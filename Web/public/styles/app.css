  :root{
    --bg:#1a1c1f;
    --panel:#2a2d31;
    --panel2:#22252a;
    --border:#3a3f46;
    --text:#e6e6e6;
    --muted:#a8a8a8;
    --blue:#3b78ff;
    --red:#ff3b3b;
    --orange:#ff9b3b;
    --green:#48ff83;
    --slot:#343a43;
    --childTint: rgba(80,90,110,0.25);
    --topbarH:46px;
  }
  html,body{height:100vh; height:100dvh; overflow:hidden; margin:0; background:radial-gradient(1200px 700px at 30% 20%, #2a2f39 0%, #17191c 50%, #121316 100%); color:var(--text); font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;}
  body.light{
    --bg:#edf1f5;
    --panel:#f2f4f8;
    --panel2:#e6e9ef;
    --border:#c6ceda;
    --text:#1b1f26;
    --muted:#5d6675;
    --slot:#d8dee7;
    --childTint: rgba(120,140,170,0.18);
    background: radial-gradient(1200px 700px at 30% 20%, #f3f6fb 0%, #e8ecf2 55%, #dde3eb 100%);
    color:var(--text);
  }
  *{box-sizing:border-box}
  #topbar{
    height:var(--topbarH);
    display:flex; align-items:center; justify-content:space-between;
    padding:0 10px;
    background:linear-gradient(#1b1d20,#141518);
    border-bottom:1px solid #0b0c0e;
    position:sticky; top:0; z-index:50;
    gap:12px;
  }
  body.light #topbar{
    background:linear-gradient(#f7f9fc,#e6ebf2);
    border-bottom:1px solid #cdd5df;
  }
  #brand{font-weight:650; letter-spacing:.2px; font-size:14px;}
  #status{font-size:12px; color:var(--muted); margin-top:2px;}
  #leftHeader{display:flex; flex-direction:column; gap:2px;}
  #centerHeader{display:flex; align-items:center; gap:10px; flex:1; justify-content:center;}
  #rightHeader{display:flex; align-items:center; gap:8px;}
  #sceneWrap{ display:flex; align-items:center; gap:6px; }
  #sceneSelect{
    height:28px;
    border-radius:8px;
    border:1px solid #131519;
    background:#22252a;
    color:#ddd;
    padding:0 8px;
    font-size:12px;
  }
  #sceneManageBtn{
    height:28px;
    border-radius:8px;
    border:1px solid #131519;
    background:#22252a;
    color:#ddd;
    padding:0 10px;
    font-size:12px;
    cursor:pointer;
  }
  body.light #sceneSelect,
  body.light #sceneManageBtn{
    background:#f4f6fa;
    color:#1b1f26;
    border-color:rgba(0,0,0,.2);
  }
  .pill{background:#22252a; border:1px solid #111317; color:#eaeaea; border-radius:999px; padding:5px 10px; font-size:12px; cursor:pointer; user-select:none}
  .pill.on{border-color:#2a72ff; box-shadow:0 0 0 1px rgba(60,120,255,.25) inset;}
  .pill:active{transform:translateY(1px)}
  #settingsBtn{width:30px; height:30px; display:grid; place-items:center; border-radius:9px; border:1px solid #131519; background:#22252a; cursor:pointer;}
  #settingsBtn:active{transform:translateY(1px)}
  #playerBtn{width:30px; height:30px; display:none; place-items:center; border-radius:9px; border:1px solid #131519; background:#22252a; cursor:pointer; user-select:none;}
  #playerBtn:active{transform:translateY(1px)}
  #fsBtn{width:30px; height:30px; display:grid; place-items:center; border-radius:10px; border:1px solid #131519; background:#22252a; cursor:pointer; user-select:none; margin-right:6px;}
  #fsBtn:active{transform:translateY(1px)}
  #transportControls,
  .transportControls{display:flex; align-items:center; gap:6px;}
  #transportControls button,
  .transportControls button{
    width:30px;
    height:28px;
    border-radius:8px;
    border:1px solid #131519;
    background:#22252a;
    color:#e6e6e6;
    font-weight:700;
    cursor:pointer;
  }
  #transportStop,
  #transportRec,
  .transportControls .stop,
  .transportControls .rec{
    font-size:16px;
  }
  #transportControls button.on,
  .transportControls button.on{border-color:#2a72ff; box-shadow:0 0 0 1px rgba(60,120,255,.25) inset;}
  #transportControls button.rec.on,
  .transportControls button.rec.on{border-color:#ff4b4b; box-shadow:0 0 0 1px rgba(255,80,80,.35) inset; color:#ffb3b3;}
  #transportStop.stopped,
  .transportControls .stop.stopped{
    border-color:#2a72ff;
    color:#b7d0ff;
    box-shadow:0 0 0 1px rgba(60,120,255,.35) inset;
    animation:stopBlink 1s ease-in-out infinite;
  }
  #transportInfo,
  .transportInfo{display:flex; align-items:center; gap:8px; flex-wrap:wrap; justify-content:center;}
  .transportValue{
    height:28px;
    border-radius:8px;
    border:1px solid #131519;
    background:#22252a;
    color:#e6e6e6;
    padding:0 10px;
    font-size:12px;
    font-variant-numeric: tabular-nums;
    cursor:pointer;
    user-select:none;
  }
  .transportModal{display:flex; flex-direction:column; gap:12px;}
  .transportModal .transportControls{justify-content:center;}
  .transportModal .transportInfo{justify-content:center; gap:10px; flex-wrap:wrap;}
  .transportModal.phoneTransport .transportControls button{
    width:44px;
    height:40px;
    font-size:18px;
    border-radius:12px;
  }
  .transportModal .transportProject{
    text-align:center;
    font-size:15px;
    font-weight:700;
    letter-spacing:0.2px;
  }
  .transportModal.phoneTransport .transportValue{
    height:34px;
    font-size:13px;
  }
  .transportBpmRow input[type=number]{
    width:90px;
  }
  body.light #transportControls button,
  body.light .transportControls button,
  body.light .transportValue,
  body.light #settingsBtn,
  body.light #fsBtn,
  body.light #playerBtn,
  body.light .pill{
    background:#f4f6fa;
    color:#1b1f26;
    border-color:#c8d1dc;
  }
  body.light #transportControls button.on,
  body.light .transportControls button.on{border-color:#3b78ff; box-shadow:0 0 0 1px rgba(60,120,255,.25) inset;}
  body.light #transportControls button.rec.on,
  body.light .transportControls button.rec.on{border-color:#ff4b4b; box-shadow:0 0 0 1px rgba(255,80,80,.35) inset; color:#b31212;}
  body.light #transportStop.stopped,
  body.light .transportControls .stop.stopped{
    border-color:#3b78ff;
    color:#1b3a7a;
    box-shadow:0 0 0 1px rgba(60,120,255,.35) inset;
  }

  @keyframes stopBlink{
    0%, 100%{opacity:1;}
    50%{opacity:0.4;}
  }

  #mixerWrap{
    box-sizing:border-box;
        height:calc(100% - var(--topbarH));
    overflow-x:auto;
    overflow-y:hidden;
    padding:calc(12px + env(safe-area-inset-top)) 12px calc(12px + env(safe-area-inset-bottom)) 12px;
    -webkit-overflow-scrolling:touch;
    overscroll-behavior-x:contain;
  }
  #mixer{
    display:flex;
    align-items:stretch;
    height:100%;
    gap:8px;
    min-height:0;
  }
  .strip{
    width:124px;
    flex:0 0 auto;
    height:100%;
    display:flex;
    flex-direction:column;
    background:linear-gradient(#3b3f45,#2c2f34 42%, #1f2126 100%);
    border:1px solid rgba(0,0,0,.65);
    border-radius:12px;
    box-shadow:0 10px 20px rgba(0,0,0,.35);
    position:relative;
    overflow:visible;
  }
  .strip.spacer{
    width:48px;
    min-width:36px;
    border:1px dashed rgba(255,255,255,0.2);
    background:linear-gradient(#2a2e33,#1f2227 60%, #191b20 100%);
    box-shadow:none;
    outline:none;
    display:flex;
    align-items:center;
    justify-content:center;
  }
  .strip.spacer::before{
    background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(0,0,0,0) 40%, rgba(0,0,0,.25));
  }
  .strip.spacer .spacerLabel{
    font-size:11px;
    text-transform:uppercase;
    letter-spacing:0.12em;
    color:rgba(255,255,255,0.55);
    writing-mode:vertical-rl;
    transform:rotate(180deg);
    text-align:center;
  }
  body.light .strip.spacer{
    border:1px dashed rgba(0,0,0,0.2);
    background:linear-gradient(#f1f4f9,#e4e9f0 60%, #d8dee7 100%);
  }
  body.light .strip.spacer .spacerLabel{
    color:rgba(0,0,0,0.5);
  }
  .strip.dragging{
    opacity:0.6;
    filter:grayscale(0.4);
  }
  .strip.dropTarget{
    outline:3px solid rgba(94, 203, 255, 0.75);
    outline-offset:-3px;
  }
  .strip::before{
    content:"";
    position:absolute; inset:0;
    background:linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,0) 30%, rgba(0,0,0,.15));
    pointer-events:none;
  }
  .strip{
    outline: 3px solid var(--trackColor, transparent);
    outline-offset: -3px;
  }
  .strip.folderStart,
  .strip.folderChild{
    border:none;
    outline:none;
    box-shadow:none;
  }
  .strip.master{width:140px; background:linear-gradient(#3b3f45,#2a2d31 35%, #1f2126 100%);}
  .strip.child{background:linear-gradient(#353a40,#2a2d31 40%, #1f2126 100%);}
  .strip.child .header{background:linear-gradient(#2e3137,#25282d);}
  body.light .strip{
    background: linear-gradient(#f7f9fd,#e6ebf2 42%, #d9e0ea 100%);
    border-color: rgba(0,0,0,.12);
    box-shadow: 0 10px 18px rgba(0,0,0,.12);
  }
  body.light .strip.folderStart,
  body.light .strip.folderChild{
    border:none;
    outline:none;
    box-shadow:none;
  }
  body.light .strip.master{background:linear-gradient(#f7f9fd,#e1e7ef 35%, #d5dde8 100%);}
  body.light .strip.child{background:linear-gradient(#f3f6fb,#e3e8f0 40%, #d6dde8 100%);}
  body.light .strip.child .header{background:linear-gradient(#eef2f7,#dde4ee);}
  .strip .accent{ display:none; }
  .header{
    padding:7px 8px 6px 8px;
    border-bottom:1px solid rgba(0,0,0,.55);
    background:linear-gradient(#2f3339,#25282d);
    border-radius:12px 12px 0 0;
    display:flex; flex-direction:column; gap:6px;
  }
  body.light .header{
    border-bottom:1px solid rgba(0,0,0,.15);
    background:linear-gradient(#f4f6fa,#e2e8f1);
  }
  .hrow{display:flex; align-items:center; justify-content:space-between; gap:6px;}
  .trackId{
    width:26px; height:18px; border-radius:5px;
    display:grid; place-items:center;
    background:#1a1c20; border:1px solid rgba(0,0,0,.7);
    font-size:11px; color:#d7d7d7;
    flex:0 0 auto;
  }
  .title{
    font-size:12px; font-weight:650; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    flex:1 1 auto;
    cursor:pointer;
  }
  .title .caret{display:inline-block; width:14px; text-align:center; color:#cfcfcf; margin-right:2px;}
  .badge{font-size:11px; padding:2px 7px; border-radius:6px; background:#1a1c20; border:1px solid rgba(0,0,0,.7); color:#dcdcdc; white-space:nowrap;}
  .badge.blue{background:rgba(45,110,255,.22); border-color:rgba(45,110,255,.5); color:#eaf1ff;}
  .badge.red{background:rgba(255,50,50,.18); border-color:rgba(255,50,50,.45); color:#ffeaea;}
  .slotbar{
    display:flex; gap:6px; margin-top:2px;
  }
  .slotbtn{
    flex:1 1 auto;
    height:20px;
    background:linear-gradient(#3b3f45,#2d3036);
    border:1px solid rgba(0,0,0,.65);
    border-radius:6px;
    font-size:11px; color:#dadada;
    display:flex; align-items:center; justify-content:center;
    cursor:pointer;
    user-select:none;
  }
  .slotbtn.on{background:linear-gradient(#265ad8,#1c3f9a); border-color:rgba(80,140,255,.9); color:#ffffff;}
  .slotbtn:active{transform:translateY(1px)}
  .body{padding:8px 8px 10px 8px; display:flex; flex-direction:column; gap:8px; flex:1 1 auto; min-height:0;}
  .vline{display:flex; align-items:center; justify-content:space-between;}
  .label{font-size:11px; color:#c9c9c9;}
  .value{font-size:11px; color:#ffffff; font-variant-numeric:tabular-nums;}
  .faderBox{
    flex:1 1 auto;
    min-height:220px;
    background:linear-gradient(#14161a,#0f1013);
    border:1px solid rgba(0,0,0,.85);
    border-radius:10px;
    position:relative;
    overflow:visible;
    padding:6px;
  }
  body.light .faderBox{
    background:linear-gradient(#f5f7fb,#e6ebf2);
    border-color: rgba(0,0,0,.2);
  }
  .faderInner{
    position:absolute; inset:6px;
    border-radius:8px;
    background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,0) 25%, rgba(0,0,0,.2));
    pointer-events:none;
  }
  /* Track + VU channels (like REAPER) */
  .trackWell{
    position:absolute; left:14px; right:14px; top:10px; bottom:10px;
    border-radius:10px;
    background:linear-gradient(#0d0e10,#121316);
    border:1px solid rgba(255,255,255,.07);
  }
  .ticks{
    position:absolute; left:0; right:0; top:10px; bottom:10px;
    pointer-events:none;
  }
  .tick{position:absolute; left:8px; right:8px; height:1px; background:rgba(255,255,255,.12);}
  .vu{
    position:absolute; top:12px; bottom:12px;
    width:6px;
    border-radius:6px;
    background:rgba(255,255,255,.08);
    overflow:visible;
  }
  .vuL{left:22px}
  .vuR{left:32px}
  .vuFill{
    position:absolute; left:0; right:0; bottom:0;
    height:0%;
    background:linear-gradient(#3aff6f,#e2ff3a 55%, #ff6a3a 82%, #ff2a2a);
    filter:saturate(0.9);
    transition:height 0.03s linear;
  }
  .vuPeak{
    position:absolute; left:0; right:0; height:2px;
    background:#ffffff;
    opacity:.7;
    transform:translateY(0);
  }
  .thumb{
    position:absolute; left:58px; right:18px;
    height:20px; border-radius:6px;
    background:linear-gradient(#e7e7e7,#bdbdbd);
    border:1px solid rgba(0,0,0,.85);
    box-shadow:0 4px 10px rgba(0,0,0,.4);
    transform:translateY(0);
    pointer-events:auto;
    touch-action:none;
    cursor:ns-resize;
    z-index:2;
  }
  .faderHit{
    position:absolute; inset:0;
    cursor:default;
    touch-action:pan-x;
    z-index:1;
  }

  .btnRow{
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:8px;
  }
  .btn{
    height:30px;
    border-radius:8px;
    background:linear-gradient(#3b3f45,#2b2f34);
    border:1px solid rgba(0,0,0,.7);
    color:#e7e7e7;
    font-size:12px;
    cursor:pointer;
    user-select:none;
    display:flex; align-items:center; justify-content:center;
    gap:6px;
  }
  .btn:active{transform:translateY(1px)}
  .btn.onMute{background:linear-gradient(#5a1f1f,#3a1414); border-color:rgba(255,80,80,.7); color:#fff;}
  .btn.onSolo{background:linear-gradient(#5a3a1f,#3a2614); border-color:rgba(255,170,80,.75); color:#fff;}
  .btn.onRec{
    background:linear-gradient(#5a1f1f,#3a1414);
    border-color:rgba(255,80,80,.7); color:#fff;
    animation:recBlink 0.9s infinite;
  }
  @keyframes recBlink{
    0%,100%{filter:saturate(1.0) brightness(1.0)}
    50%{filter:saturate(1.2) brightness(1.18)}
  }
  .panBox{
    background:linear-gradient(#21252b,#1a1c20);
    border:1px solid rgba(0,0,0,.75);
    border-radius:10px;
    padding:8px;
    display:flex; flex-direction:column; gap:6px;
  }
  .panTop{display:flex; align-items:center; justify-content:space-between;}
  .panSlider{width:100%;}
  input[type=range]{width:100%;}
  input[type=range]::-webkit-slider-thumb{ -webkit-appearance:none; appearance:none; width:18px; height:18px; border-radius:999px; background:linear-gradient(#e7e7e7,#bdbdbd); border:1px solid rgba(0,0,0,.85);}
  input[type=range]::-webkit-slider-runnable-track{ height:6px; border-radius:999px; background:linear-gradient(#6f7781,#2a2e34);}
  input[type=range]::-moz-range-thumb{width:18px; height:18px; border-radius:999px; background:linear-gradient(#e7e7e7,#bdbdbd); border:1px solid rgba(0,0,0,.85);}
  input[type=range]::-moz-range-track{ height:6px; border-radius:999px; background:linear-gradient(#6f7781,#2a2e34);}

  .dimOthers .strip:not(.soloed){filter:grayscale(0.6) brightness(0.75); opacity:0.65;}
  /* Folder visuals */
  .folderTag{
    position:absolute; left:8px; bottom:8px;
    font-size:10px; color:#cfcfcf; opacity:.75;
  }
  .indentGuide{
    position:absolute; left:6px; top:46px; bottom:14px; width:6px;
    border-left:1px solid rgba(140,160,220,.25);
    pointer-events:none;
  }
  .indentGuide::after{
    content:""; position:absolute; left:-1px; top:0; bottom:0; width:1px; background:rgba(0,0,0,.35);
  }

  /* Modal */
  #overlay{position:fixed; inset:0; background:rgba(0,0,0,.55); display:none; z-index:100;}
  #modal{
    position:fixed; left:50%; top:50%; transform:translate(-50%,-50%);
    width:min(860px, calc(100vw - 20px));
    height:min(560px, calc(100vh - 20px));
    background:linear-gradient(#2b2f35,#1c1f24);
    border:1px solid rgba(0,0,0,.9);
    border-radius:14px;
    box-shadow:0 20px 60px rgba(0,0,0,.6);
    display:none;
    z-index:101;
    overflow:visible;
  }
  body.light #modal{
    background:linear-gradient(#f7f9fc,#e6ebf2);
    border-color: rgba(0,0,0,.2);
    box-shadow:0 20px 60px rgba(0,0,0,.25);
  }
  #modalHeader{height:44px; display:flex; align-items:center; justify-content:space-between; padding:0 10px; border-bottom:1px solid rgba(0,0,0,.7);}
  body.light #modalHeader{border-bottom:1px solid rgba(0,0,0,.15);}
  #modalTitle{font-weight:700; font-size:13px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;}
  #modalActions{display:flex; align-items:center; gap:6px;}
  #renameBtn,
  #closeBtn{width:34px; height:30px; border-radius:9px; border:1px solid rgba(0,0,0,.75); background:#22252a; color:#ddd; cursor:pointer; display:flex; align-items:center; justify-content:center;}
  body.light #renameBtn,
  body.light #closeBtn{background:#f4f6fa; color:#1b1f26; border-color:rgba(0,0,0,.2);}
  #renameBtn:active,
  #closeBtn:active{transform:translateY(1px)}
  #tabs{display:flex; gap:8px; padding:10px; border-bottom:1px solid rgba(0,0,0,.7);}
  body.light #tabs{border-bottom:1px solid rgba(0,0,0,.15);}
  .tab{padding:6px 10px; border-radius:10px; border:1px solid rgba(0,0,0,.75); background:#22252a; color:#ddd; cursor:pointer; font-size:12px;}
  body.light .tab{background:#f4f6fa; color:#1b1f26; border-color:rgba(0,0,0,.2);}
  .tab.on{background:linear-gradient(#265ad8,#1c3f9a); border-color:rgba(80,140,255,.9); color:#fff;}
  #modalBody{height:calc(100% - 44px - 50px); overflow:auto; padding:12px;}
  .row{display:flex; gap:10px; align-items:center; margin:10px 0;}

.sel{ background:#1c1f23; color:#e6e8ec; border:1px solid rgba(255,255,255,.12); border-radius:10px; padding:6px 10px; }
  body.light .sel{ background:#f4f6fa; color:#1b1f26; border-color:rgba(0,0,0,.2); }
  .rng{ width:140px; }

.sel:disabled{ opacity:.5; }
  .row label{width:130px; color:#cfcfcf; font-size:12px;}
  body.light .row label{color:#5d6675;}
  .small{font-size:12px; color:#cfcfcf;}
  body.light .small{color:#5d6675;}
  .fxList{display:flex; flex-direction:column; gap:8px;}
  .fxItem{display:flex; align-items:center; justify-content:space-between; gap:10px; padding:8px; border:1px solid rgba(0,0,0,.75); background:#23262b; border-radius:10px;}
  body.light .fxItem{background:#f1f4f9; border-color:rgba(0,0,0,.15);}
  .fxItem .nm{flex:1 1 auto; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;}
  .fxCtl{display:flex; gap:8px; align-items:center;}
  .miniBtn{height:28px; padding:0 10px; border-radius:8px; border:1px solid rgba(0,0,0,.75); background:#2a2d31; color:#ddd; cursor:pointer; font-size:12px;}
  body.light .miniBtn{background:#f4f6fa; color:#1b1f26; border-color:rgba(0,0,0,.2);}
  .miniBtn:active{transform:translateY(1px)}
  .miniBtn.on{background:linear-gradient(#265ad8,#1c3f9a); border-color:rgba(80,140,255,.9); color:#fff;}
  .tmSearch{
    flex:1;
    height:32px;
    border-radius:10px;
    border:1px solid rgba(0,0,0,.65);
    background:#1f2227;
    color:#e6e6e6;
    padding:0 10px;
  }
  body.light .tmSearch{
    border-color: rgba(0,0,0,.2);
    background:#f4f6fa;
    color:#1b1f26;
  }
  .paramGrid{display:grid; grid-template-columns:1fr 1fr; gap:10px;}
  .paramCard{padding:10px; border-radius:12px; border:1px solid rgba(0,0,0,.75); background:#23262b;}
  .paramName{font-size:12px; color:#ddd; margin-bottom:8px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;}
  
/* FX all-off warning highlight */
.btn.fxWarn, .slotbtn.fxWarn, .miniBtn.fxWarn{
  background:linear-gradient(#5b2323,#381313) !important;
  border-color:rgba(255,80,80,.65) !important;
  box-shadow:0 0 0 1px rgba(255,80,80,.18) inset;
  color:#fff !important;
}
.fxAllOffBanner{
  padding:10px 12px;
  border-radius:12px;
  border:1px solid rgba(255,80,80,.55);
  background:rgba(120,30,30,.22);
  color:#ffe8e8;
  font-size:12px;
  margin:0 0 12px 0;
}
/* Sends / Returns cards */
.sendList{display:flex; flex-direction:column; gap:10px;}
.sendCard{padding:10px; border-radius:12px; border:1px solid rgba(0,0,0,.75); background:#23262b;}
.sendTop{display:flex; align-items:center; gap:8px; margin-bottom:8px;}
.sendName{flex:1 1 auto; font-size:12px; color:#e6e6e6; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;}
.sendMeta{font-size:11px; color:#b9b9b9; opacity:.9}
.seg{display:inline-flex; border:1px solid rgba(0,0,0,.65); border-radius:10px; overflow:hidden; margin-left:auto;}
.seg button{border:0; background:#2a2d31; color:#ddd; padding:6px 10px; font-size:11px; cursor:pointer;}
.seg button.on{background:linear-gradient(#265ad8,#1c3f9a); color:#fff;}
.sendFader{display:flex; align-items:center; gap:10px;}
.sendFader input[type=range]{flex:1}

.errBanner{
    position:fixed; left:10px; right:10px; bottom:10px;
    background:rgba(120,30,30,.92);
    border:1px solid rgba(255,80,80,.7);
    border-radius:12px; padding:10px 12px;
    font-size:12px; z-index:9999; display:none;
  }

  /* Responsive: tablets/phones */
  @media (max-width: 900px){
    #mixerWrap{padding:10px}
    .strip{width:118px}
    .strip.master{width:132px}
  }
  @media (max-width: 700px){
    #topbar{height:52px}
    #mixerWrap{height:calc(100% - 52px)}
    .strip{width:106px}
    .strip.master{width:122px}
    .faderBox{height:360px}
  }

/* ===== Patch v5.19 (UI polish + rail/VU + folder toggle bottom + compact) ===== */
:root{ --topbarH:46px; }
#app{height:100vh;}
#mixerWrap{height:calc(100vh - var(--topbarH));}
#mixer{min-height:calc(100vh - var(--topbarH)); align-items:stretch;}
.strip{height:calc(100vh - var(--topbarH) - 12px); display:flex; flex-direction:column;}
.strip .body{flex:1 1 auto; min-height:0; display:flex; flex-direction:column;}
.faderBox{flex:1 1 auto; height:auto !important; min-height:320px;}
/* make master same height */
.strip.master{height:calc(100vh - var(--topbarH) - 12px);}

/* REAPER-like fader rail (trackWell) */
.trackWell{
  left:50% !important; right:auto !important;
  transform:translateX(-50%);
  top:14px !important; bottom:14px !important;
  width:40px !important;
  border-radius:14px !important;
  background:linear-gradient(#0b0c0f,#141820) !important;
  border:1px solid rgba(255,255,255,.11) !important;
  box-shadow:
    inset 0 0 0 1px rgba(0,0,0,.62),
    inset 0 14px 26px rgba(255,255,255,.04),
    inset 0 -16px 26px rgba(0,0,0,.58);
  overflow:visible;
}
.trackWell:before{
  content:"";
  position:absolute;
  inset:9px 8px 9px 8px;
  border-radius:12px;
  background:
    linear-gradient(to right, rgba(255,255,255,.18), rgba(255,255,255,0) 40%, rgba(255,255,255,.18)),
    repeating-linear-gradient(to bottom, rgba(255,255,255,.10) 0 1px, rgba(255,255,255,0) 1px 18px);
  opacity:.33;
  pointer-events:none;
}

/* VU inside rail */
.trackWell .vu{
  position:absolute;
  top:10px; bottom:10px;
  width:9px;
  border-radius:10px;
  background:rgba(255,255,255,.06);
  overflow:visible;
}
.trackWell .vuL{left:6px;}
.trackWell .vuR{right:6px;}
.vuFill{background:linear-gradient(#54d86a,#e6d458,#ff6a5f);}
.vuPeak{background:rgba(255,255,255,.86); height:2px;}

/* ticks overlay centered */
.ticks{
  left:50% !important;
  transform:translateX(-50%);
  width:72px !important;
  opacity:.55;
}
.tick{background:rgba(255,255,255,.14) !important;}

/* thumb centered */
.thumb{
  left:50% !important;
  right:auto !important;
  transform:translate(-50%, 0);
  width:44px !important;
  border-radius:7px !important;
}

/* Folder toggle button at bottom (only for folder-start tracks) */
.folderToggleBtn{
  margin-top:auto;
  margin-left:8px;
  margin-right:8px;
  margin-bottom:8px;
  height:26px;
  border-radius:9px;
  background:linear-gradient(#3b3f45,#2b2f34);
  border:1px solid rgba(0,0,0,.75);
  color:#e7e7e7;
  font-size:11px;
  display:none;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  user-select:none;
  box-shadow: inset 0 1px 0 rgba(255,255,255,.06);
}
.folderToggleBtn:active{transform:translateY(1px);}
.strip.folderStart .folderToggleBtn{display:flex;}
.folderTag{font-size:10px; opacity:.75;}

/* Compact child tracks */
.strip.compactChild{ width:86px !important; }
.strip.compactChild .panBox{ display:none !important; }
.strip.compactChild .btnRow{ grid-template-columns:1fr !important; grid-auto-rows:30px; }
.strip.compactChild .btn{ width:100%; }
.strip.compactChild .thumb{ width:36px !important; }
.strip.compactChild .trackWell{ width:30px !important; }


/* Narrow strips: hide VOL label to avoid truncation */
.strip.narrow .vline .label{ display:none; }
.strip.narrow .vline{ justify-content:center; }
.strip.narrow .vline .value{ width:100%; text-align:center; }
/* FX slots list */
.fxSlots{ display:flex; flex-direction:column; gap:6px; margin:4px 0; }
.fxSlot{
  height:22px;
  min-height:22px;
  flex:0 0 auto; /* prevent flexbox from shrinking rows when list is scrollable */
  border-radius:8px;
  background:linear-gradient(#3b3f45,#2b2f34);
  border:1px solid rgba(0,0,0,.7);
  color:#e7e7e7;
  font-size:11px;
  display:flex; align-items:center; justify-content:space-between;
  padding:0 8px; gap:8px;
  cursor:pointer;
  user-select:none;
  box-shadow: inset 0 1px 0 rgba(255,255,255,.05);
}
.fxSlot.off{
  /* disabled FX: red tint at 25% */
  filter:grayscale(.15);
  background:linear-gradient(rgba(255,0,0,.25), rgba(255,0,0,.25)), linear-gradient(#3b3f45,#2b2f34);
}
.fxSlot .nm{flex:1 1 auto; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;}
.fxSlot .sw{flex:0 0 auto; font-size:10px; opacity:.85;}

.fxSlot .sw.more{font-weight:800; letter-spacing:.2px; padding-left:6px; opacity:.95; color:#ffffff;}
.fxSlots.scroll{ overflow-y:auto; }
.fxSlots{ scrollbar-width:none; }
.fxSlots::-webkit-scrollbar{ width:0; height:0; }
.fxSlots.scroll::-webkit-scrollbar{ width:0; height:0; }

/* FX expanded (show FX slots instead of fader) */
.strip.fxExpanded .vline,
.strip.fxExpanded .faderBox{ display:none !important; }
.strip.fxExpanded .fxSlots{
  display:flex !important;
  flex:1 1 auto;
  max-height:none !important;
  height:auto !important;
  overflow:auto;
  min-height:0;
}
.strip.compactChild.fxExpanded .fxSlots{ display:flex !important; }
body.phoneLandscape .strip.fxExpanded .fxSlots{ display:flex !important; }
.btn.onFxExpanded{
  background:linear-gradient(#1f3e74,#162b52);
  border-color:rgba(80,150,255,.75);
  color:#fff;
  animation:recBlink .9s infinite;
}
.fxSlots.scroll::-webkit-scrollbar-thumb{ background:transparent; }
.fxSlots.scroll::-webkit-scrollbar-track{ background:rgba(0,0,0,.15); border-radius:8px; }

.fxMoreBadge{
  position:absolute;
  right:2px;
  bottom:4px;
  height:16px;
  padding:0 6px;
  border-radius:999px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:10px;
  font-weight:800;
  color:#fff;
  background:rgba(0,0,0,.55);
  border:1px solid rgba(255,255,255,.18);
  pointer-events:none;
  backdrop-filter: blur(2px);
  transition: opacity .12s ease;
}

.fxMoreBadge.hide{ opacity:0; }

.fxSlot{ position:relative; user-select:none; }
.fxSlotActions{
  position:absolute; inset:0;
  display:flex; align-items:center; justify-content:center;
  gap:6px;
  background:rgba(0,0,0,.55);
  border-radius:8px;
}
.fxSlotActions button{
  height:18px; min-width:18px; padding:0 6px;
  border-radius:6px;
  border:1px solid rgba(255,255,255,.18);
  background:rgba(255,255,255,.08);
  color:#fff;
  font-size:11px;
}
.fxSlotActions button.danger{
  border-color:rgba(255,80,80,.5);
  background:rgba(255,80,80,.18);
}

.fxAddMenu{
  position:fixed;
  z-index:9999;
  min-width:220px;
  max-width:320px;
  max-height:260px;
  overflow:auto;
  border-radius:12px;
  padding:8px;
  background:rgba(25,28,33,.98);
  border:1px solid rgba(255,255,255,.12);
  box-shadow:0 16px 40px rgba(0,0,0,.55);
}
.fxAddMenu .mi{
  padding:8px 10px;
  border-radius:10px;
  cursor:pointer;
  border:1px solid transparent;
}
.fxAddMenu .mi:hover{
  background:rgba(255,255,255,.08);
  border-color:rgba(255,255,255,.10);
}
.fxAddMenu .small{ opacity:.8; font-size:11px; }

/* Track context menu */
.trackMenu{
  position:fixed;
  z-index:9999;
  min-width:200px;
  max-width:280px;
  padding:8px;
  border-radius:12px;
  background:rgba(25,28,33,.98);
  border:1px solid rgba(255,255,255,.12);
  box-shadow:0 16px 40px rgba(0,0,0,.55);
}
.trackMenu .mi{
  padding:8px 10px;
  border-radius:10px;
  cursor:pointer;
  border:1px solid transparent;
}
.trackMenu .mi.label{
  cursor:default;
  opacity:0.7;
}
.trackMenu .mi:hover{
  background:rgba(255,255,255,.08);
  border-color:rgba(255,255,255,.10);
}
.trackMenu .mi.label:hover{
  background:transparent;
  border-color:transparent;
}
.trackMenu .mi.disabled{
  opacity:.5;
  cursor:default;
}
.trackMenu .trackColorPalette{
  display:grid;
  grid-template-columns:repeat(5, 22px);
  gap:8px;
  padding:8px 10px 10px;
}
.trackMenu .trackColorPalette .swatch{
  width:22px;
  height:22px;
  border-radius:6px;
  border:1px solid rgba(0,0,0,0.6);
  cursor:pointer;
}
.trackMenu .trackColorPalette .swatch:focus{
  outline:2px solid rgba(94, 203, 255, 0.75);
  outline-offset:2px;
}


/* ===== Patch v5.20.1 ===== */

/* Hide FX count badge in header */
.fxBadge{ display:none !important; }

/* Track titles: ensure visible */
.title{ display:block !important; }

/* Folder texts: hide tiny helper text; use only bottom toggle */
.folderTag{ display:none !important; }

/* Master header: minimal */
.strip.master .header{ padding-top:7px; }
.strip.master .badgeRow{ display:none !important; }
.strip.master .slotbar{ display:flex !important; }
.strip.master .title{ display:block !important; text-align:center; font-weight:700; letter-spacing:.08em; }
.strip.master .title{ color:#e8e8e8; }
.strip.master .title{ font-size:12px; }

/* Master bottom buttons: M + FX side-by-side */
.strip.master .btnRow{ grid-template-columns:1fr 1fr !important; }
/* Hide Solo + Rec, keep FX */
.strip.master .btnRow .btn:nth-child(2),
.strip.master .btnRow .btn:nth-child(3){ display:none !important; }
.strip.master .btnRow .btn:nth-child(4){ display:flex !important; }

/* FX slots: always show 4 rows when enabled */
.fxSlots{ margin:6px 8px 4px 8px; gap:6px; }
.fxSlot{ height:22px; }
.fxSlot.empty{ opacity:.45; }
.fxSlot.empty .sw{ opacity:.7; }

/* Move VOL line slightly down because FX slots moved above */
.topLine{ margin-top:2px; }

/* 0dB mark in rail */
.trackWell .zeroMark{
  position:absolute;
  left:10px; right:10px;
  height:7px;
  border-radius:5px;
  background:rgba(255,255,255,.16);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.10);
  top:0;
  transform:translateY(-9999px);
  pointer-events:none;
}


/* ===== Patch v5.20.4 alignment fixes ===== */
/* Slight optical centering for fader thumb */
.thumb{
  left: calc(50% - 2px) !important; /* compensate visual bias */
}

/* Pan slider: center thumb on track */
.panBox input[type=range]{
  height:18px;
}
.panBox input[type=range]::-webkit-slider-runnable-track{
  height:6px;
}
.panBox input[type=range]::-webkit-slider-thumb{
  margin-top:-5px; /* lift knob to center */
}
.panBox input[type=range]::-moz-range-track{
  height:6px;
}
.panBox input[type=range]::-moz-range-thumb{
  height:16px;
}


/* ===== Patch v5.20.5 thumb center ===== */
.thumb{
  left:50% !important;
  right:auto !important;
  width:44px !important;
}


/* ===== Patch v5.20.6 thumb centering ===== */
.thumb{
  left:50% !important;
  right:auto !important;
}


/* VU alignment within rail */
.trackWell .vuL{ left:6px !important; }
.trackWell .vuR{ right:6px !important; }


/* ===== Patch v5.20.7 VU micro-align ===== */
.trackWell .vu{ transform: translateX(-4px); } /* optical centering */


.modal input[type=range]{height:18px;}
.modal input[type=range]::-webkit-slider-runnable-track{height:6px;}
.modal input[type=range]::-webkit-slider-thumb{margin-top:-5px;}
.modal input[type=range]::-moz-range-track{height:6px;}
.modal input[type=range]::-moz-range-thumb{height:16px;}

/* ===== Patch v5.21.3 modal thumb + compact VU ===== */
/* Modal horizontal sliders: lift thumb a bit more (WebKit) */
.modal input[type=range]::-webkit-slider-thumb{ margin-top:-7px !important; }

/* Compact/narrow child strips: render a single centered VU so it doesn't "cut off" */
.strip.compact .trackWell .vuR{ display:none !important; }
.strip.compact .trackWell .vuL{
  left:50% !important;
  right:auto !important;
  width:8px !important;
  transform: translateX(-50%) !important;
}
.strip.compact .trackWell .vu{ border-radius:6px; }


/* ===== Patch v5.21.4 (selectors fix) ===== */
/* Modal horizontal sliders: lift thumb (modal uses #modal id) */
#modal input[type=range]{ height:18px; }
#modal input[type=range]::-webkit-slider-runnable-track{ height:6px; }
#modal input[type=range]::-webkit-slider-thumb{ margin-top:-7px !important; }
#modal input[type=range]::-moz-range-track{ height:6px; }
#modal input[type=range]::-moz-range-thumb{ height:16px; }

/* Compact child strips use .compactChild */
.strip.compactChild .trackWell .vuR{ display:none !important; }
.strip.compactChild .trackWell .vuL{
  left:50% !important;
  right:auto !important;
  width:8px !important;
  transform: translateX(-50%) !important;
}
.strip.compactChild .trackWell .vu{ border-radius:6px; }

/* Folder framing (drawn as a single overlay around the group) */
#mixerWrap{ position:relative; }
#folderFrames{
  position:absolute;
  inset:0;
  pointer-events:none;
  z-index:20;
}
.folderFrame{
  position:absolute;
  border:3px solid rgba(90,120,170,.7);
  border-radius:12px;
  box-shadow:0 0 0 2px rgba(0,0,0,.35);
}
body.light .folderFrame{
  border-color: rgba(90,120,170,.5);
  box-shadow:0 0 0 2px rgba(0,0,0,.2);
}


/* ===== Patch v5.21.7: header name space + FX highlight ===== */
.hrow{ position:relative; padding-left:0; }
.trackId{
  position:absolute; left:8px; top:6px;
  width:auto; height:auto; padding:0;
  background:transparent; border:none;
  font-size:18px; font-weight:800;
  opacity:.22;
}
.btn.onFx{background:linear-gradient(#1f3e74,#162b52); border-color:rgba(80,150,255,.75); color:#fff;}
.vline .value.clip{
  color:#ffb3b3;
  background:rgba(140,20,20,.45);
  padding:2px 6px;
  border-radius:6px;
}


/* ===== Patch v5.21.8: center header id + name ===== */
.hrow{ justify-content:center !important; }
.trackId{
  left:50% !important;
  top:7px !important;
  transform:translateX(-50%) !important;
  font-size:20px !important;
  opacity:.22 !important;
  pointer-events:none !important;
}
.title{
  position:relative;
  text-align:center !important;
  width:100%;
  padding:0 6px;
}
.title .caret{
  position:absolute;
  left:0;
  top:0;
  width:14px;
  text-align:center;
  margin-right:0 !important;
}


/* ===== Patch v5.21.11: uniform header height / aligned faders ===== */
.header{
  height:74px;                /* fixed so all strips start body at same Y */
  box-sizing:border-box;
}
.hrow{
  height:28px;
  min-height:28px;
}
.title{
  line-height:20px;
}
.slotbar{
  height:22px;
  min-height:22px;
}
/* Even if FX/Sends bar buttons are hidden, keep bar height */
.slotbtn{ height:20px; }


/* ===== Multiuser v3 + footer bar ===== */
.footerBar{
  height:28px;
  margin-top:6px;
  border-radius:10px;
  background:#1c1f23;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:0 8px;
  box-sizing:border-box;
  font-size:12px;
  color:#e6e8ec;
  box-shadow: inset 0 1px 0 rgba(255,255,255,.06);
}
.footerNum{ font-weight:800; letter-spacing:.2px; opacity:.95; }
.footerFolderBtn{
  width:22px; height:20px;
  border-radius:7px;
  display:none;
  align-items:center; justify-content:center;
  background:rgba(0,0,0,.25);
  border:1px solid rgba(255,255,255,.10);
  font-size:12px;
}
.footerFolderBtn:active{ transform:translateY(1px); }
.strip.folderStart .footerFolderBtn{ display:flex; }

/* Remove old folder text button + folderTag line (we use footer button) */
.folderToggleBtn{ display:none !important; }
.folderTag{ display:none !important; }

/* Track number moved to footer */
.trackId{ display:none !important; }

/* User picker overlay */
#userOverlay{
  position:fixed; inset:0; background:rgba(0,0,0,.6);
  display:none; z-index:9998;
}
#userModal{
  position:fixed; left:50%; top:18%;
  transform:translateX(-50%);
  width:min(420px, calc(100vw - 32px));
  background:#171a1f; border:1px solid rgba(255,255,255,.08);
  border-radius:14px;
  box-shadow: 0 18px 40px rgba(0,0,0,.55);
  padding:14px;
  display:none;
  z-index:9999;
}
#userModal h3{ margin:0 0 8px 0; font-size:14px; }
#userModal .hint{ font-size:12px; opacity:.75; margin-bottom:10px; }
#userModal .userGrid{ display:grid; grid-template-columns:1fr; gap:10px; }
#userModal .userBtn{
  height:44px; border-radius:12px; border:1px solid rgba(255,255,255,.10);
  background:#222632; color:#fff; font-weight:800; letter-spacing:.3px;
}
#userModal .userBtn:active{ transform:translateY(1px); }



/* ===== Patch v5.22: horizontal scroll + phone landscape ===== */
/* Prevent flexbox from squeezing strips; allow horizontal scroll instead */
.strip{ flex-shrink:0; }

/* Compact view: hide FX slots list */
.strip.compactChild .fxSlots{ display:none !important; }

/* Phone landscape: hide topbar + FX/Sends + FX slots, float controls */
body.phoneLandscape{ --topbarH:0px; }
body.phoneLandscape #leftHeader{ display:none !important; }
body.phoneLandscape #topbar{
  height:0 !important;
  min-height:0 !important;
  padding:0 !important;
  border:none !important;
  background:transparent !important;
}
body.phoneLandscape #rightHeader{
  position:fixed !important;
  top:10px !important;
  right:10px !important;
  z-index:500 !important;
  gap:10px !important;
}
body.phoneLandscape #fsBtn,
body.phoneLandscape #settingsBtn{
  width:36px !important;
  height:36px !important;
  border-radius:12px !important;
  background:rgba(34,37,42,.78) !important;
  border:1px solid rgba(255,255,255,.10) !important;
  backdrop-filter: blur(8px);
}
/* Keep header slotbar buttons visible on phone landscape */
body.phoneLandscape .slotbar{ display:flex !important; gap:6px; justify-content:center; }
body.phoneLandscape .strip.master .slotbar{ display:flex !important; }
body.phoneLandscape .fxSlots{ display:none !important; }
body.phoneLandscape .header{
  height:54px !important;
  padding-top:6px !important;
  padding-bottom:6px !important;
}

body.phoneLandscape #mixerWrap{ padding:10px 10px calc(10px + env(safe-area-inset-bottom)) 10px !important; }
body.phoneLandscape .body{ padding:6px !important; gap:6px !important; }
body.phoneLandscape .faderBox{ min-height:140px !important; }
body.phoneLandscape .btn{ height:26px !important; }
body.phoneLandscape .btnRow{ gap:6px !important; }
/* In phone landscape remove footer bar entirely to save height */
body.phoneLandscape .footerBar{ display:none !important; }
body.phoneLandscape .panBox{ margin-top:2px !important; }

/* Patch v5.24: keep header buttons visible on low screens, hide PAN fader when height is tight */
@media (max-height: 520px) and (pointer: coarse){
  body.phoneLandscape .panBox{ display:none !important; }
  /* Always show header slotbar buttons (FX / Sends / Folder) even in phoneLandscape */
  body.phoneLandscape .slotbar{ display:flex !important; gap:6px; justify-content:center; }
  body.phoneLandscape .strip.master .slotbar{ display:flex !important; }
  body.phoneLandscape .slotbtn{ height:20px; min-height:20px; padding:0 8px; }

  /* Low screens: lift header buttons (master + tracks) */
  .header{ padding:5px 8px 4px 8px !important; gap:4px !important; }
  .slotbar{ margin-top:0 !important; }
  .strip.master .slotbar{ margin-top:0 !important; }
}
/* ===== Patch v5.23: height fits viewport (no vertical cut on phones) ===== */
/* Older patches used 100vh; on mobile it can be larger than the visible area.
   Force the layout to follow the actual page height (100dvh via html/body) */
#topbar{ height:var(--topbarH) !important; }
#mixerWrap{ height:calc(100% - var(--topbarH)) !important; }
#mixer{ height:100% !important; min-height:0 !important; align-items:stretch !important; }
.strip{ height:100% !important; }
.strip.master{ height:100% !important; }
.body{ flex:1 1 auto !important; min-height:0 !important; }
.faderBox{ flex:1 1 auto !important; height:auto !important; min-height:220px !important; }



/* ===== Patch v1.1.3: slotbar states + folder button + folder group gaps ===== */
:root{ --groupGap: 8px; }

/* A little lift for master slotbar (was visually lower than others) */
.strip.master .slotbar{ margin-top:8px !important; }

/* ===== Patch v5.31: extra lift for slotbar on low-height windows ===== */
@media (max-height: 600px){
  /* Make the header tighter so FX/Sends never fall below it */
  .header{
    padding:4px 8px 2px 8px !important;
    gap:2px !important;
    height:auto !important;          /* allow compaction */
    min-height:0 !important;
  }
  .hrow{ height:24px !important; min-height:24px !important; }
  .title{ line-height:18px !important; font-size:11px !important; }
  .trackId{ height:16px !important; }

  /* Lift slotbar directly under the title */
  .slotbar{ margin-top:-2px !important; }
  .strip.master .slotbar{ margin-top:-2px !important; }

  .slotbtn{
    height:18px !important;
    min-height:18px !important;
    padding:0 8px !important;
    font-size:10px !important;
  }
}
.slotbar{ margin-top:0px !important; }
  /* Override the master lift (8px) for low-height windows */
  .strip.master .slotbar{ margin-top:0px !important; }
  .slotbtn{ height:18px !important; min-height:18px !important; font-size:10px !important; }
}

/* Folder button in slotbar */
.slotbtn.folderbtn{ flex:0 0 28px; padding:0; font-weight:900; }

/* Slotbar state colors */
.slotbtn.fxHas{
  background:linear-gradient(#1f3e74,#162b52) !important;
  border-color:rgba(80,150,255,.75) !important;
  color:#fff !important;
}
.slotbtn.fxAllOff{
  background:linear-gradient(#5b2323,#381313) !important;
  border-color:rgba(255,80,80,.65) !important;
  color:#fff !important;
}
.slotbtn.sendsHas{
  background:linear-gradient(#1f5a34,#143a23) !important;
  border-color:rgba(80,255,150,.55) !important;
  color:#fff !important;
}
.slotbtn.sendsAllMute{
  background:linear-gradient(#5b2323,#381313) !important;
  border-color:rgba(255,80,80,.65) !important;
  color:#fff !important;
}

/* Folder group spacing (extra margins in addition to flex gap) */
.strip.gapL{ margin-left: var(--groupGap); }
/*
  Note: the mixer has a base flex-gap between strips.
  gapR/gapL are *extra* spacing for readability.
  To make the total spacing ~2x, add only 1x extra here.
*/
.strip.gapR{ margin-right: var(--groupGap); }

/* ===== Patch v1.2.0: floating plugin windows (desktop) + fullscreen (phone) ===== */
#pluginLayer{ position:fixed; inset:0; pointer-events:none; z-index:5000; }
#pluginOverlay{ position:fixed; inset:0; background:rgba(0,0,0,.55); display:none; z-index:4999; }

.pluginWin{
  position:absolute;
  width:420px;
  height:540px;
  background:linear-gradient(#2b2f34,#15171a);
  border:1px solid rgba(255,255,255,.10);
  border-radius:14px;
  box-shadow:0 18px 60px rgba(0,0,0,.55);
  overflow:visible;
  pointer-events:auto;
}
.pluginWin.fullscreen{
  position:fixed;
  inset:0;
  width:auto;
  height:auto;
  border-radius:0;
  overflow-x:hidden;
}

/* Size presets for specific plugin layouts (desktop) */
.pluginWin.layout_reacomp:not(.fullscreen){ width:min(960px, 92vw); height:min(640px, 90vh); }
.pluginWin.layout_la1a:not(.fullscreen){ width:min(860px, 92vw); height:min(520px, 85vh); }
.pluginWin.layout_rm_la1a:not(.fullscreen){ width:min(860px, 92vw); height:min(520px, 85vh); }
	.pluginWin.layout_rm_limiter2:not(.fullscreen){ width:min(620px, 96vw); height:min(480px, 92vh); }
	.pluginWin.layout_rm_kicker50hz:not(.fullscreen){ width:min(680px, 92vw); height:min(520px, 90vh); }
	.pluginWin.layout_rm_kicker50:not(.fullscreen){ width:min(680px, 92vw); height:min(520px, 90vh); }
	.pluginWin.layout_rm_deesser:not(.fullscreen){ width:min(720px, 92vw); height:min(520px, 90vh); }
	.pluginWin.layout_rm_delaymachine:not(.fullscreen){ width:min(760px, 92vw); height:min(560px, 90vh); }
	.pluginWin.layout_rm_eqt1a:not(.fullscreen){ width:min(700px, 92vw); height:min(520px, 90vh); }
	.pluginWin.layout_rm_lexikan2:not(.fullscreen){ width:min(760px, 92vw); height:min(560px, 90vh); }
/* Keep RM_Gate window snug to its UI */
.pluginWin.layout_rm_gate:not(.fullscreen){ width:min(520px, 92vw); height:min(520px, 88vh); }
.pluginWin.layout_rm_gate:not(.fullscreen) .pluginWinBody{ overflow:hidden; }
.pluginWin.layout_rm_gate .plugSection{ margin-bottom:0; }

.pluginWinHeader{
  height:42px;
  display:flex;
  align-items:center;
  gap:8px;
  padding:8px 10px;
  background:linear-gradient(#3a4046,#272b30);
  border-bottom:1px solid rgba(255,255,255,.08);
  cursor:grab;
}
.pluginWin.fullscreen .pluginWinHeader{ cursor:default; }
.pluginTitle{ font-weight:800; font-size:13px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.pluginHdrBtns{ margin-left:auto; display:flex; gap:8px; }
.pluginHdrBtns .miniBtn{ height:28px; }

.pluginWinBody{ height:calc(100% - 42px); overflow:auto; padding:10px; }

/* Phone landscape: make header overlay (almost transparent) so layouts get more vertical room.
   Use max-height, not max-width (some phones report >920px in landscape). */
@media (max-height: 650px) and (orientation: landscape) and (pointer: coarse){
  .pluginWin.fullscreen .pluginWinHeader{
    position:absolute;
    top:0; left:0; right:0;
    height:34px;
    padding:5px 8px;
    background: rgba(20,23,26,.02);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border-bottom: 1px solid rgba(255,255,255,.02);
    z-index: 1200;
    pointer-events: auto;
  }
  .pluginWin.fullscreen .pluginHdrBtns .miniBtn{ height:26px; }
  .pluginWin.fullscreen.mode_layout .pluginWinBody{
    height:100%;
    padding:0;
    overflow:visible;
    position: relative;
    z-index: 1;
  }
  /* raw inspector stays readable under the header */
  .pluginWin.fullscreen.mode_raw .pluginWinBody{
    height:100%;
    padding:48px 10px 10px;
    overflow:auto;
  }
}

/* RM_EQ on phones (landscape): keep Output visible and avoid "floating blank" gaps.
   Use a computed height so the graph occupies the area between header and Output. */
@media (max-height: 650px) and (orientation: landscape) and (pointer: coarse){
  /* RM_EQ fullscreen (phone landscape): use a real column layout so the graph fills
     exactly the space between the header and the Output block (no floating gaps). */
  .pluginWin.fullscreen.layout_rm_eq4,
  .pluginWin.fullscreen.layout_rm_eq2{ --rmEqHdrH:34px; --rmEqOutH:66px; }
  .pluginWin.fullscreen.layout_rm_eq4 .rmEqProQ,
  .pluginWin.fullscreen.layout_rm_eq2 .rmEqProQ{
    height:100%;
    display:flex;
    flex-direction:column;
    flex:1 1 auto;
    padding-top: var(--rmEqHdrH);
    padding-bottom: calc(var(--rmEqOutH) + 12px + env(safe-area-inset-bottom));
    box-sizing:border-box;
  }
  \.pluginWin.fullscreen.layout_rm_eq4 .rmEqCanvasWrap,
  \.pluginWin.fullscreen.layout_rm_eq2 .rmEqCanvasWrap{
    flex:1 1 auto;
    height:auto !important;
    min-height:0;
    margin:0;
    width:100%;
    max-width:100%;
    aspect-ratio: unset !important;
    overflow:visible;
  }
  \.pluginWin.fullscreen.layout_rm_eq4 .rmEqBottomRow,
  \.pluginWin.fullscreen.layout_rm_eq2 .rmEqBottomRow{
    position:fixed;
    left:10px; right:10px;
    bottom: calc(8px + env(safe-area-inset-bottom));
    margin:0;
    padding:6px 10px;
    gap:10px;
    border-radius:14px;
    min-height: var(--rmEqOutH);
    z-index: 1050;
  }
  .pluginWin.fullscreen.layout_rm_eq4 .rmEqBottomLeft input[type=range],
  .pluginWin.fullscreen.layout_rm_eq2 .rmEqBottomLeft input[type=range]{ width:140px; }

  /* Keep the point panel usable: bottom-sheet, slightly smaller, and above Output */
  .pluginWin.fullscreen.layout_rm_eq4 .rmEqPointPanel,
  .pluginWin.fullscreen.layout_rm_eq2 .rmEqPointPanel{
    position:fixed;
    left:10px; right:10px;
    bottom: calc(var(--rmEqOutH) + 10px + env(safe-area-inset-bottom));
    width:auto;
    transform:none;
    opacity:.88;
    z-index:1100;
  }
}

.pluginSearch{ display:flex; gap:10px; margin-bottom:10px; }
.pluginSearch input{
  flex:1;
  height:34px;
  border-radius:10px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(0,0,0,.25);
  color:#fff;
  padding:0 10px;
  outline:none;
}
.paramRow{
  display:grid;
  grid-template-columns: 1fr 1.2fr 88px;
  gap:10px;
  align-items:center;
  padding:8px 8px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,.06);
  background:rgba(0,0,0,.16);
  margin-bottom:8px;
}
.paramRow .pname{ font-size:12px; opacity:.95; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.paramRow input[type=range]{ width:100%; }
.paramRow .pval{ font-size:11px; opacity:.85; text-align:right; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

/* On small phones: simplify the grid */
@media (max-width: 520px){
  .pluginWin{ width:100%; height:100%; }
  .paramRow{ grid-template-columns: 1fr; }
  .paramRow .pval{ text-align:left; }
}

/* ===== Patch v1.2.1: plugin layouts + knobs (DAW-like) ===== */
.plugLayoutHdr{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  margin-bottom:10px;
}
.plugLayoutHdr .hint{ font-size:11px; opacity:.7; }
.plugSection{ margin-bottom:14px; }
.plugSectionTitle{ font-weight:800; font-size:12px; letter-spacing:.2px; opacity:.9; margin:6px 0 10px 2px; }
.plugGrid{ display:grid; grid-template-columns: repeat(3, minmax(0, 1fr)); gap:10px; }
@media (max-width: 520px){
  .plugGrid{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
}

/* ---- Plugin controls: vfader + meters ---- */
.plugGrid.ns1Grid{ grid-template-columns: 22px 1fr 22px; gap:12px; align-items:stretch; }
.plugGrid.ns1Grid .plugCtrl{ height: 240px; }
@media (max-width: 520px){
  .plugGrid.ns1Grid{ grid-template-columns: 20px 1fr 20px; }
  .plugGrid.ns1Grid .plugCtrl{ height: 260px; }
}
.plugCtrl.vfader{ display:flex; flex-direction:column; align-items:center; justify-content:space-between; padding:10px 6px; }
.pFader{ position:relative; width:100%; flex:1; min-height:160px; display:flex; align-items:center; justify-content:center; }
.pFaderTrack{ position:relative; width:18px; height:100%; border-radius:10px; background:rgba(255,255,255,.10); box-shadow: inset 0 0 0 1px rgba(255,255,255,.06); }
.pFaderFill{ position:absolute; left:0; right:0; bottom:0; height:0%; border-radius:10px; background:rgba(80,160,255,.35); }
.pFaderThumb{ position:absolute; left:50%; width:28px; height:16px; transform:translate(-50%,-50%); border-radius:10px; background:rgba(255,255,255,.22); border:1px solid rgba(255,255,255,.18); box-shadow:0 2px 10px rgba(0,0,0,.35); touch-action:none; }
.plugCtrl.pmeter{ display:flex; flex-direction:column; align-items:center; justify-content:space-between; padding:10px 4px; }
.pMeter{ position:relative; width:12px; flex:1; min-height:160px; border-radius:10px; background:rgba(255,255,255,.08); overflow:hidden; }
.pMeterFill{ position:absolute; left:0; right:0; bottom:0; height:0%; background:linear-gradient(#3aff6f,#e2ff3a 55%, #ff6a3a 82%, #ff2a2a); transition:height 0.03s linear; }
.pMeterLabel{ font-size:11px; opacity:.85; margin-top:6px; }
.pTrackMeterLR{ display:flex; gap:4px; align-items:stretch; justify-content:center; width:100%; flex:1; min-height:160px; }
.pTrackMeterLR .pMeter{ width:9px; }

.plugGrid.reacompGrid{ grid-template-columns: repeat(4, minmax(0, 1fr)); gap:10px; }
@media (max-width: 520px){
  .plugGrid.reacompGrid{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
}
.plugGrid.reacompMeters{ grid-template-columns: 1fr; }
.reaMeterRow{ display:flex; align-items:stretch; justify-content:center; gap:10px; }
.reaMeterRow .plugCtrl{ height: 200px; }

.plugCtrl{ border:1px solid rgba(255,255,255,.06); background:rgba(0,0,0,.14); border-radius:14px; padding:10px; display:flex; flex-direction:column; align-items:center; gap:6px; }
.plugCtrl .clbl{ font-size:11px; opacity:.85; text-align:center; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; width:100%; }
.plugCtrl .cval{ font-size:11px; opacity:.9; font-variant-numeric:tabular-nums; text-align:center; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; width:100%; }

.knob{
  width:70px;
  height:70px;
  border-radius:999px;
  position:relative;
  background:radial-gradient(circle at 35% 30%, rgba(255,255,255,.22), rgba(255,255,255,0) 38%),
             linear-gradient(#3a3f46,#1a1c20);
  border:1px solid rgba(0,0,0,.75);
  box-shadow:0 10px 18px rgba(0,0,0,.45), 0 0 0 1px rgba(255,255,255,.05) inset;
  touch-action:none;
  user-select:none;
}
.knob::after{
  content:"";
  position:absolute;
  inset:10px;
  border-radius:999px;
  background:radial-gradient(circle at 30% 25%, rgba(255,255,255,.14), rgba(0,0,0,.18) 62%, rgba(0,0,0,.45));
  border:1px solid rgba(255,255,255,.06);
}
.knob .kInd{
  position:absolute;
  left:50%;
  top:50%;
  width:2px;
  height:24px;
  background:#eaeaea;
  border-radius:2px;
  transform-origin:50% 20px;
  transform:translate(-50%,-50%) rotate(var(--a, -135deg));
  box-shadow:0 0 8px rgba(255,255,255,.2);
}
.knob .kArc{
  position:absolute;
  inset:-6px;
  border-radius:999px;
  background:conic-gradient(from -135deg, rgba(60,120,255,.0) 0deg, rgba(60,120,255,.0) 1deg, rgba(60,120,255,.55) var(--p, 0deg), rgba(255,255,255,.08) var(--p, 0deg) 270deg, rgba(255,255,255,0) 270deg);
  mask:radial-gradient(circle at center, transparent 64%, #000 65%);
  opacity:.95;
  pointer-events:none;
}

.plugBtn{
  width:100%;
  height:32px;
  border-radius:12px;
  border:1px solid rgba(0,0,0,.70);
  background:linear-gradient(#3b3f45,#2d3036);
  color:#eaeaea;
  cursor:pointer;
  user-select:none;
  font-size:12px;
}
.plugBtn:active{ transform:translateY(1px); }
.plugBtn.on{ background:linear-gradient(#265ad8,#1c3f9a); border-color:rgba(80,140,255,.9); color:#fff; }

.plugNote{ font-size:12px; opacity:.8; padding:10px; border-radius:12px; border:1px solid rgba(255,255,255,.06); background:rgba(0,0,0,.12); }


.pluginWin.layout_ns1 .plugLayoutHdr{ display:none; }
.pluginWin.layout_ns1 .plugGrid{ grid-template-columns: 1fr; }
.pluginWin.layout_ns1 .plugGrid > .plugCtrl{ height:auto; }
.pluginWin.layout_reacomp .plugLayoutHdr{ display:none; }
/* Image-based Tukan layouts should not show the generic layout header */
.pluginWin.layout_la1a .plugLayoutHdr,
.pluginWin.layout_rm_la1a .plugLayoutHdr,
.pluginWin.layout_nc76 .plugLayoutHdr,
.pluginWin.layout_preamp .plugLayoutHdr{ display:none; }


/* ===== Patch v1.2.3: DAW-like plugin panels (NS1 / ReaComp / LA-1A) ===== */
.plugGrid.ns1Wrap, .plugGrid.reacompWrap, .plugGrid.la1aWrap{ grid-template-columns: 1fr; }
.plugGrid.ns1Wrap .plugCtrl,
.plugGrid.reacompWrap .plugCtrl,
.plugGrid.la1aWrap .plugCtrl{ height:auto; }

.ns1Panel{
  min-height: 300px;
  height: auto;
  border-radius: 20px;
  padding: 14px;
  /* Simplified NS1 panel: single vertical fader (no closure meter) */
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 18px;
  background: linear-gradient(#6b737b, #2b3138);
  border: 1px solid rgba(0,0,0,.55);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.08), 0 18px 40px rgba(0,0,0,.35);
  position: relative;
  overflow: hidden;
}
.ns1Panel .ns1Brand{
  position:absolute;
  left:14px;
  bottom:12px;
  font-weight:900;
  font-size:44px;
  letter-spacing:1px;
  opacity:.25;
  user-select:none;
  pointer-events:none;
}
.ns1MeterCol{
  border-radius: 16px;
  padding: 12px 10px;
  background: rgba(0,0,0,.20);
  border:1px solid rgba(0,0,0,.45);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.06);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:space-between;
}
.ns1Meter{
  width: 26px;
  flex: 1;
  min-height: 220px;
  border-radius: 14px;
  background: rgba(0,0,0,.35);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.08);
  position: relative;
  overflow:visible;
}
.ns1MeterFill{
  position:absolute;
  left:0; right:0; bottom:0;
  height:0%;
  background: linear-gradient(#4bff7a, #e6ff4b 55%, #ffac4b 78%, #ff4b4b);
}
.ns1Scale{
  width:100%;
  display:flex;
  flex-direction:column;
  gap:6px;
  margin-top:10px;
  font-size:10px;
  opacity:.85;
  user-select:none;
}
.ns1Scale div{ display:flex; justify-content:space-between; }
.ns1Scale .tick{ opacity:.75; }

.ns1FaderCol{
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:14px;
}
.ns1FaderTrack{
  position:relative;
  width: 54px;
  height: 260px;
  border-radius: 18px;
  background: rgba(0,0,0,.28);
  border:1px solid rgba(0,0,0,.45);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.08);
}
.ns1FaderThumb{
  position:absolute;
  left:50%;
  width: 120px;
  height: 52px;
  transform: translate(-50%, -50%);
  border-radius: 10px;
  background: linear-gradient(#2b2f34,#1c2025);
  border:1px solid rgba(0,0,0,.70);
  box-shadow: 0 14px 22px rgba(0,0,0,.35), inset 0 0 0 1px rgba(255,255,255,.06);
  touch-action:none;
}
.ns1FaderThumb:before{
  content:"";
  position:absolute;
  left:10px; right:10px; top:12px;
  height:2px;
  background: rgba(255,255,255,.14);
  box-shadow: 0 8px 0 rgba(255,255,255,.12), 0 16px 0 rgba(255,255,255,.10);
  border-radius:2px;
  opacity:.9;
}
.ns1Readout{
  min-width: 92px;
  padding: 10px 12px;
  border-radius: 10px;
  background:#0c0c0f;
  border:1px solid rgba(0,0,0,.65);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.06);
  color:#ffb300;
  font-weight:800;
  font-variant-numeric: tabular-nums;
  text-align:center;
}
.ns1Caption{ font-size:12px; opacity:.85; text-align:center; }
.rmDeType{ display:flex; gap:10px; align-items:center; justify-content:center; margin-top:2px; }
.rmDeTypeBtn{ height:28px; padding:0 14px; border-radius:999px; border:1px solid rgba(255,255,255,0.12); background:rgba(255,255,255,0.06); color:#fff; font-weight:800; letter-spacing:0.10em; font-size:11px; cursor:pointer; }
.rmDeTypeBtn.on{ background:rgba(255,255,255,0.16); border-color:rgba(255,255,255,0.22); }


@media (max-width: 520px){
  .ns1Panel{ height: 100%; }
  .ns1FaderTrack{ height: min(62vh, 320px); }
}

/* ===== RM Gate: single vertical meter with integrated threshold fader ===== */
.pluginWin.layout_rm_gate .plugLayoutHdr{ display:none; }
.pluginWin.layout_rm_gate .plugGrid{ grid-template-columns: 1fr; justify-items: stretch; }
.pluginWin.layout_rm_gate .plugGrid > .plugCtrl{ height: auto; }
.rmGatePanel{
  min-height: 320px;
  height: auto;
  border-radius: 20px;
  padding: 14px 16px;
  display:flex;
  flex-direction: column;
  width: 100%;
  max-width: 420px;
  align-items:center;
  justify-content:center;
  gap: 18px;
  background: linear-gradient(#3a3f45,#24272c);
  border: 1px solid rgba(0,0,0,.60);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.07), 0 18px 40px rgba(0,0,0,.38);
  position: relative;
  overflow: hidden;
}
.rmGatePanel .rmGateTitle{
  position:absolute;
  left:14px;
  bottom:12px;
  font-weight:900;
  font-size:40px;
  letter-spacing:1px;
  opacity:.18;
  user-select:none;
  pointer-events:none;
}
.rmGateMeterWrap{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap: 10px;
}
.rmGateMeter{
  position: relative;
  width: 86px;
  height: 260px;
  border-radius: 20px;
  background: rgba(0,0,0,.28);
  border:1px solid rgba(0,0,0,.55);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.08);
  overflow:visible;
  touch-action:none;
  display:flex;
}
.rmGateHalf{
  position:relative;
  flex:1 1 0;
  overflow:visible;
}
.rmGateHalf.in{ border-top-left-radius:20px; border-bottom-left-radius:20px; }
.rmGateHalf.act{ border-top-right-radius:20px; border-bottom-right-radius:20px; }
.rmGateDivider{
  width:4px;
  background: linear-gradient(rgba(255,255,255,.10), rgba(0,0,0,.35));
  box-shadow: inset 0 0 0 1px rgba(0,0,0,.55);
}
.rmGateInFill{
  position:absolute;
  left:0; right:0; bottom:0;
  height:0%;
  background: linear-gradient(#4bff7a, #e6ff4b 55%, #ffac4b 78%, #ff4b4b);
  opacity: .95;
  transition: height 0.02s linear;
}
.rmGateActFill{
  position:absolute;
  left:0; right:0; top:0;
  height:0%;
  background: linear-gradient(rgba(255,0,0,.85), rgba(255,0,0,.35));
  mix-blend-mode: screen;
  transition: height 0.02s linear;
}
.rmGateMeter.closing .rmGateInFill{
  /* only desaturate/dim while gate is closing (keep some color for readability) */
  filter: saturate(.25) brightness(.85);
  opacity:.75;
}
.rmGateThreshThumb{
  position:absolute;
  left:50%;
  width: 128px;
  height: 44px;
  transform: translate(-50%, -50%);
  border-radius: 10px;
  background: linear-gradient(#2b2f34,#1c2025);
  border:1px solid rgba(0,0,0,.75);
  box-shadow: 0 14px 22px rgba(0,0,0,.35), inset 0 0 0 1px rgba(255,255,255,.06);
  transition: top 0.03s linear;
}
.rmGateThreshThumb:before{
  content:"";
  position:absolute;
  left:12px; right:12px; top:11px;
  height:2px;
  background: rgba(255,255,255,.14);
  box-shadow: 0 8px 0 rgba(255,255,255,.12), 0 16px 0 rgba(255,255,255,.10);
  border-radius:2px;
  opacity:.9;
}
.rmGateReadout{
  min-width: 110px;
  padding: 10px 12px;
  border-radius: 10px;
  background:#0c0c0f;
  border:1px solid rgba(0,0,0,.65);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.06);
  color:#ffb300;
  font-weight:800;
  font-variant-numeric: tabular-nums;
  text-align:center;
}
.rmGateMiniKnobs{ display:flex; gap:12px; align-items:center; justify-content:center; }
.rmGateMiniKnobs .plugCtrl{ min-width: 122px; }


/* ===== RM EQ: make panel span full width ===== */
.pluginWin.layout_rm_eq4 .plugGrid,
.pluginWin.layout_rm_eq2 .plugGrid{ grid-template-columns: 1fr; justify-items: stretch; }
.pluginWin.layout_rm_eq4 .plugGrid > .plugCtrl,
.pluginWin.layout_rm_eq2 .plugGrid > .plugCtrl{ height: auto; }


/* ---- Tukan skins: aim for 1:1 look (avoid rounding/clipping the original UI) ---- */
.pluginWin.layout_la1a .tukanSkin,
.pluginWin.layout_rm_la1a .tukanSkin,
.pluginWin.layout_nc76 .tukanSkin,
.pluginWin.layout_preamp .tukanSkin,
.pluginWin.layout_rm_preamp .tukanSkin,
.pluginWin.layout_rm_1175 .tukanSkin{
  border-radius: 0;
  overflow: visible;
  box-shadow: none;
  margin: 0;
}

/* Tukan panels should fill the plugin window body without extra padding/search bar */
.pluginWin.layout_la1a,
.pluginWin.layout_rm_la1a,
.pluginWin.layout_nc76,
.pluginWin.layout_preamp,
.pluginWin.layout_rm_preamp,
.pluginWin.layout_rm_1175,
.pluginWin.layout_rm_delaymachine,
.pluginWin.layout_rm_lexikan2,
.pluginWin.layout_rm_eqt1a,
.pluginWin.layout_rm_eq2{
  border-radius: 0;
}
.pluginWin.layout_la1a .pluginWinBody,
.pluginWin.layout_rm_la1a .pluginWinBody,
.pluginWin.layout_nc76 .pluginWinBody,
.pluginWin.layout_preamp .pluginWinBody,
.pluginWin.layout_rm_preamp .pluginWinBody,
.pluginWin.layout_rm_1175 .pluginWinBody,
.pluginWin.layout_rm_gate .pluginWinBody,
.pluginWin.layout_rm_eq4 .pluginWinBody,
.pluginWin.layout_rm_eq2 .pluginWinBody,
.pluginWin.layout_rm_delaymachine .pluginWinBody,
.pluginWin.layout_rm_lexikan2 .pluginWinBody,
.pluginWin.layout_rm_eqt1a .pluginWinBody{
  padding: 0;
  background: transparent;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}
.pluginWin.layout_la1a .pluginSearch,
.pluginWin.layout_rm_la1a .pluginSearch,
.pluginWin.layout_nc76 .pluginSearch,
.pluginWin.layout_preamp .pluginSearch,
.pluginWin.layout_rm_preamp .pluginSearch,
.pluginWin.layout_rm_1175 .pluginSearch,
.pluginWin.layout_rm_delaymachine .pluginSearch,
.pluginWin.layout_rm_lexikan2 .pluginSearch,
.pluginWin.layout_rm_eqt1a .pluginSearch,
.pluginWin.layout_rm_eq2 .pluginSearch{
  display: none;
}
.pluginWin.layout_la1a .pluginParamList,
.pluginWin.layout_rm_la1a .pluginParamList,
.pluginWin.layout_nc76 .pluginParamList,
.pluginWin.layout_preamp .pluginParamList,
.pluginWin.layout_rm_preamp .pluginParamList,
.pluginWin.layout_rm_1175 .pluginParamList,
.pluginWin.layout_rm_gate .pluginParamList,
.pluginWin.layout_rm_eq4 .pluginParamList,
.pluginWin.layout_rm_eq2 .pluginParamList,
.pluginWin.layout_rm_delaymachine .pluginParamList,
.pluginWin.layout_rm_lexikan2 .pluginParamList,
.pluginWin.layout_rm_eqt1a .pluginParamList{
  padding: 0;
  background: transparent;
  flex: 1 1 auto;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

/* Remove generic "card" styling for image-based Tukan controls */
.pluginWin.layout_la1a .plugCtrl,
.pluginWin.layout_rm_la1a .plugCtrl,
.pluginWin.layout_nc76 .plugCtrl,
.pluginWin.layout_preamp .plugCtrl,
.pluginWin.layout_rm_preamp .plugCtrl,
.pluginWin.layout_rm_1175 .plugCtrl,
.pluginWin.layout_rm_delaymachine .plugCtrl,
.pluginWin.layout_rm_lexikan2 .plugCtrl,
.pluginWin.layout_rm_eqt1a .plugCtrl{
  border: none;
  background: transparent;
  border-radius: 0;
  padding: 0;
  box-shadow: none;
  width: 100%;
  height: 100%;
  display: flex;
  flex: 1 1 auto;
  flex-direction: column;
  justify-content: stretch;
  align-items: stretch;
  gap: 0;
}
.pluginWin.layout_la1a .plugCtrl .clbl,
.pluginWin.layout_la1a .plugCtrl .cval,
.pluginWin.layout_nc76 .plugCtrl .clbl,
.pluginWin.layout_nc76 .plugCtrl .cval,
.pluginWin.layout_preamp .plugCtrl .clbl,
.pluginWin.layout_preamp .plugCtrl .cval,
.pluginWin.layout_rm_preamp .plugCtrl .clbl,
.pluginWin.layout_rm_preamp .plugCtrl .cval,
.pluginWin.layout_rm_1175 .plugCtrl .clbl,
.pluginWin.layout_rm_1175 .plugCtrl .cval,
.pluginWin.layout_rm_delaymachine .plugCtrl .clbl,
.pluginWin.layout_rm_delaymachine .plugCtrl .cval,
.pluginWin.layout_rm_lexikan2 .plugCtrl .clbl,
.pluginWin.layout_rm_lexikan2 .plugCtrl .cval,
.pluginWin.layout_rm_eqt1a .plugCtrl .clbl,
.pluginWin.layout_rm_eqt1a .plugCtrl .cval{
  display: none;
}

.pluginWin.layout_la1a .plugSection,
.pluginWin.layout_rm_la1a .plugSection,
.pluginWin.layout_nc76 .plugSection,
.pluginWin.layout_preamp .plugSection,
.pluginWin.layout_rm_preamp .plugSection,
.pluginWin.layout_rm_1175 .plugSection,
.pluginWin.layout_rm_delaymachine .plugSection,
.pluginWin.layout_rm_lexikan2 .plugSection,
.pluginWin.layout_rm_eqt1a .plugSection,
.pluginWin.layout_rm_gate .plugSection,
.pluginWin.layout_rm_eq4 .plugSection,
.pluginWin.layout_rm_eq2 .plugSection{
  padding: 0;
  border: none;
  background: transparent;
  border-radius: 0;
  box-shadow: none;
  flex: 1 1 auto;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}
.pluginWin.layout_la1a .plugGrid,
.pluginWin.layout_rm_la1a .plugGrid,
.pluginWin.layout_nc76 .plugGrid,
.pluginWin.layout_preamp .plugGrid,
.pluginWin.layout_rm_preamp .plugGrid,
.pluginWin.layout_rm_1175 .plugGrid,
.pluginWin.layout_rm_delaymachine .plugGrid,
.pluginWin.layout_rm_lexikan2 .plugGrid,
.pluginWin.layout_rm_eqt1a .plugGrid,
.pluginWin.layout_rm_eq2 .plugGrid{
  gap: 0;
  flex: 1 1 auto;
  display: flex;
  align-items: stretch;
  justify-content: center;
}
.pluginWin.layout_la1a .plugGrid > .plugCtrl,
.pluginWin.layout_rm_la1a .plugGrid > .plugCtrl,
.pluginWin.layout_nc76 .plugGrid > .plugCtrl,
.pluginWin.layout_preamp .plugGrid > .plugCtrl,
.pluginWin.layout_rm_preamp .plugGrid > .plugCtrl,
.pluginWin.layout_rm_1175 .plugGrid > .plugCtrl,
.pluginWin.layout_rm_delaymachine .plugGrid > .plugCtrl,
.pluginWin.layout_rm_lexikan2 .plugGrid > .plugCtrl,
.pluginWin.layout_rm_eqt1a .plugGrid > .plugCtrl,
.pluginWin.layout_rm_eq2 .plugGrid > .plugCtrl{
  flex: 1 1 auto;
}

/* Size presets for image-based Tukan panels (desktop) */
.pluginWin.layout_nc76:not(.fullscreen){ width:min(980px, 92vw); height:min(520px, 85vh); }
.pluginWin.layout_preamp:not(.fullscreen),
.pluginWin.layout_rm_preamp:not(.fullscreen){ width:min(520px, 92vw); height:min(720px, 90vh); }
.pluginWin.layout_rm_1175:not(.fullscreen){ width:min(980px, 92vw); height:min(520px, 85vh); }
/* Size presets for RM layouts */
.pluginWin.layout_ns1:not(.fullscreen){ width:min(520px, 92vw); height:min(520px, 85vh); }
.pluginWin.layout_rm_gate:not(.fullscreen){ width:min(520px, 92vw); height:min(760px, 90vh); }
.pluginWin.layout_rm_eq4:not(.fullscreen),
.pluginWin.layout_rm_eq2:not(.fullscreen){ width:min(980px, 92vw); height:min(760px, 90vh); }

/* ---- ReaComp (dark, minimal) ---- */
.reacompPanel{
  border-radius: 18px;
  padding: 14px;
  background: linear-gradient(rgba(20,22,28,.96), rgba(12,13,17,.96));
  border:1px solid rgba(255,255,255,.10);
  box-shadow: inset 0 0 0 1px rgba(0,0,0,.35);
  color: rgba(255,255,255,.92);
}
.reacompPanel .rcGrid{
  display:grid;
  grid-template-columns: 140px 1fr 240px;
  gap:14px;
  align-items:start;
}
@media (max-width: 520px){
  .reacompPanel .rcGrid{ grid-template-columns: 1fr; }
}
.rcCard{
  background: rgba(255,255,255,.04);
  border:1px solid rgba(255,255,255,.10);
  border-radius: 14px;
  padding: 10px 10px;
  box-shadow: inset 0 0 0 1px rgba(0,0,0,.25);
}
.rcTitle{
  font-size:12px;
  font-weight:800;
  opacity:.9;
  margin: 2px 0 8px 2px;
}
.rcHRow{
  display:grid;
  grid-template-columns: 92px 1fr 74px;
  gap:10px;
  align-items:center;
  margin: 8px 0;
}
.rcHRow .lbl{ font-size:12px; opacity:.85; }
.rcHRow input[type=range]{ width:100%; }
.rcHRow .val{
  font-size:12px;
  font-variant-numeric: tabular-nums;
  text-align:right;
  background: rgba(0,0,0,.25);
  border:1px solid rgba(255,255,255,.10);
  border-radius: 8px;
  padding: 6px 8px;
  white-space:nowrap;
  overflow:visible;
  text-overflow:ellipsis;
  color: rgba(255,255,255,.92);
}
.rcChecks{ display:flex; flex-direction:column; gap:8px; margin-top:10px; }
.rcChecks label{ display:flex; gap:10px; align-items:center; font-size:12px; opacity:.9; }
.rcChecks input[type=checkbox]{ width:16px; height:16px; accent-color: rgba(255,255,255,.75); }

.rcThreshold{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:10px;
}
.rcVTrack{
  position:relative;
  width: 46px;
  height: 270px;
  border-radius: 16px;
  background: rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.10);
  overflow:visible;
}
.rcVFill{
  position:absolute;
  left:0; right:0; bottom:0;
  height:0%;
  background: rgba(255,255,255,.10);
}
.rcVThumb{
  position:absolute;
  left:50%;
  width: 80px;
  height: 30px;
  transform: translate(-50%, -50%);
  border-radius: 10px;
  background: rgba(255,255,255,.08);
  border:1px solid rgba(255,255,255,.10);
  box-shadow: 0 10px 20px rgba(0,0,0,.35);
  touch-action:none;
}
.rcMeterCol{
  display:flex;
  gap:6px;
  align-items:stretch;
  justify-content:center;
}
.rcMeterCol .pMeter{
  width: 10px;
  min-height: 140px;
  background: rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.10);
}
.pluginWin.layout_reacomp .pluginParamList{ padding: 12px; background: transparent; }
.pluginWin.layout_reacomp .pluginWinBody{ background: transparent; }
.pluginWin.layout_reacomp .pluginWinHeader{
  background: rgba(0,0,0,.30);
  color: rgba(255,255,255,.92);
  border-bottom:1px solid rgba(255,255,255,.10);
}
.pluginWin.layout_reacomp .pluginHdrBtns button{
  color: rgba(255,255,255,.92);
  border-color: rgba(255,255,255,.14);
}

/* ---- LA-1A (Tukan) : analog-ish panel (inspired by ref, custom implementation) ---- */
.la1aPanel{
  border-radius: 18px;
  padding: 14px;
  background: linear-gradient(#e2e2e2, #c9c9c9);
  border:1px solid rgba(0,0,0,.22);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.55);
  color:#111;
  overflow:visible;
}
.la1aHead{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  margin-bottom:10px;
}
.la1aBrand{
  font-weight:900;
  letter-spacing:.6px;
  opacity:.85;
}
.la1aGrid{
  display:grid;
  grid-template-columns: 220px 1fr 220px;
  gap: 14px;
  align-items:stretch;
}
@media (max-width: 720px){
  .la1aGrid{ grid-template-columns: 1fr; }
}
.la1aCard{
  background: rgba(255,255,255,.60);
  border:1px solid rgba(0,0,0,.16);
  border-radius: 16px;
  padding: 12px;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.45);
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:10px;
}
.la1aSwitch{
  width: 120px;
  border-radius: 14px;
  border:1px solid rgba(0,0,0,.20);
  background: rgba(0,0,0,.06);
  padding: 6px;
  display:flex;
  flex-direction:column;
  gap:6px;
}
.la1aSwBtn{
  height: 34px;
  border-radius: 12px;
  border:1px solid rgba(0,0,0,.25);
  background: linear-gradient(#f7f7f7,#d8d8d8);
  color:#111;
  font-weight:900;
  letter-spacing:.3px;
  cursor:pointer;
  user-select:none;
}
.la1aSwBtn.on{
  background: linear-gradient(#ffffff,#fefefe);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.75), 0 4px 12px rgba(0,0,0,.10);
}
.la1aSmallBtn{
  height: 34px;
  min-width: 140px;
  border-radius: 12px;
  border:1px solid rgba(0,0,0,.25);
  background: linear-gradient(#3b3f45,#2d3036);
  color:#eaeaea;
  cursor:pointer;
  user-select:none;
  font-weight:900;
  letter-spacing:.2px;
}
.la1aSmallBtn.on{
  background: linear-gradient(#265ad8,#1c3f9a);
  border-color:rgba(80,140,255,.9);
  color:#fff;
}
.la1aVu{
  width: 100%;
  max-width: 420px;
  height: 180px;
  border-radius: 14px;
  background: linear-gradient(#f8f2cf, #eadb9f);
  border:1px solid rgba(0,0,0,.22);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.65);
  position:relative;
  overflow:visible;
}
.la1aVu::before{
  content:"VU";
  position:absolute;
  left:50%;
  top:14px;
  transform:translateX(-50%);
  font-weight:900;
  letter-spacing:.6px;
  opacity:.65;
}
.la1aTicks{
  position:absolute;
  left:10px; right:10px; bottom:14px; top:16px;
}
.la1aTicks svg{ width:100%; height:100%; }
.la1aNeedle{
  position:absolute;
  left:50%;
  bottom:16px;
  width: 2px;
  height: 110px;
  background: #111;
  transform-origin: 50% 100%;
  transform: translateX(-50%) rotate(var(--needle, 35deg));
  box-shadow: 0 0 6px rgba(0,0,0,.25);
}
.la1aNeedle::after{
  content:"";
  position:absolute;
  left:50%;
  bottom:-7px;
  width: 14px;
  height: 14px;
  transform: translateX(-50%);
  border-radius: 999px;
  background: #111;
}
.la1aVuReadout{
  font-size:12px;
  font-weight:900;
  opacity:.85;
  font-variant-numeric: tabular-nums;
  margin-top:8px;
}



/* --- Tukan skins (pixel-accurate, scaled to fit) --- */
.tukanHost{
  width: 100%;
  height: 100%;
  display: flex;
  flex: 1 1 auto;
  justify-content: center;
  align-items: center;
  padding: 0;
  user-select: none;
  touch-action: none;
}
.tukanStage{
  position: relative;
  flex: 0 0 auto;
  min-width: 0;
  min-height: 0;
  overflow: hidden;
}
.tukanSkin{
  position: absolute;
  left: 0;
  top: 0;
  background-repeat: no-repeat;
  background-size: 100% 100%;
  transform-origin: 0 0;
  will-change: transform;
}
.tukanSkin.laSkin{ background-image: url("/tukan/la/LABack.png"); }
.tukanSkin.nc76Skin{ background-image: url("/tukan/76/76BackB.png"); }
.tukanSkin.preSkin{ background-image: url("/tukan/pre/PREBack.png"); }

.tukanSkin .tkSprite{
  position: absolute;
  background-repeat: no-repeat;
  user-select: none;
}
.tukanSkin .tkKnob{ filter: none; }
.tukanSkin .tkSwitch{ filter: none; }
.tukanSkin .tkVuFace{
  background-size: 100% 100%;
}
.tukanSkin .tkNeedle{
  position: absolute;
  width: 2px;
  background: rgba(0,0,0,.85);
  border-radius: 2px;
  transform-origin: 50% 100%;
  box-shadow: 0 2px 4px rgba(0,0,0,.35);
  transition: transform 0.06s linear;
}

.tukanSkin .tkBtn{
  background-image: url(tukan/76/1176buttonB.png);
  background-repeat: no-repeat;
  background-size: 100% 200%;
  background-position: 0 0;
}
.tukanSkin .tkBtn.on{ background-position: 0 100%; }
/* ---- RM_Limiter2: Waves L2-style panel (web) ---- */

.rmL2Stage{ width:100%; height:100%; display:flex; align-items:center; justify-content:center; }
.rmL2Skin{ width:560px; height:360px; transform-origin:0 0; }
.rmL2Panel{
  width:560px; height:360px;
  box-sizing:border-box;
  padding:14px 16px;
  border-radius:16px;
  background: linear-gradient(180deg, rgba(18,18,22,0.96), rgba(10,10,12,0.96));
  border:1px solid rgba(255,255,255,0.08);
  display:flex;
  gap:14px;
  user-select:none;
}
.rmL2Col{ flex:0 0 170px; display:flex; align-items:stretch; justify-content:center; }
.rmL2ColMid{
  flex:1 1 auto;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:14px;
  padding:4px 0;
}

.rmL2FaderWrap{ display:flex; flex-direction:column; align-items:center; gap:8px; width:100%; }
.rmL2FaderLbl{ font-size:12px; letter-spacing:0.14em; opacity:0.88; }
.rmL2FaderVal{ font-size:12px; opacity:0.85; font-variant-numeric: tabular-nums; }
.rmL2Fader{
  height:260px;
  width:96px;
  display:flex;
  align-items:stretch;
}
.rmL2FaderTrack{
  position:relative;
  flex:1;
  border-radius:14px;
  background: rgba(0,0,0,0.24);
  border:1px solid rgba(255,255,255,0.10);
  overflow:visible;
}
.rmL2FaderVu{ position:absolute; inset:0; opacity:0.60; }
.rmL2FaderVuFill{
  position:absolute;
  left:0; right:0; bottom:0;
  height:0%;
  background: linear-gradient(0deg,
    rgba(0,255,120,0.85) 0%,
    rgba(255,220,0,0.85) 60%,
    rgba(255,60,60,0.90) 100%);
}
.rmL2FaderThumb{
  position:absolute;
  left:50%;
  width:74px;
  height:16px;
  border-radius:999px;
  transform:translate(-50%,-50%);
  background: rgba(255,255,255,0.20);
  border:1px solid rgba(255,255,255,0.22);
  box-shadow: 0 4px 14px rgba(0,0,0,0.35);
}

.rmL2AttWrap{ display:flex; flex-direction:column; align-items:center; gap:6px; }
.rmL2AttMeter{
  width:34px;
  height:160px;
  border-radius:12px;
  background: rgba(0,0,0,0.24);
  border:1px solid rgba(255,255,255,0.10);
  overflow:visible;
  position:relative;
}
.rmL2AttFill{
  position:absolute;
  left:0; right:0; top:0;
  height:0%;
    border-radius:12px;
background: linear-gradient(180deg,
    rgba(255,60,60,0.95) 0%,
    rgba(255,60,60,0.55) 100%);
}
.rmL2AttLbl{ font-size:12px; letter-spacing:0.14em; opacity:0.88; }
.rmL2AttVal{ font-size:12px; opacity:0.85; font-variant-numeric: tabular-nums; }

.rmL2RelWrap{ width:min(260px, 90%); display:flex; flex-direction:column; gap:6px; }
.rmL2RelTop{ display:flex; justify-content:space-between; align-items:center; font-size:12px; letter-spacing:0.14em; opacity:0.88; }
.rmL2Slider{ width:100%; }
.rmL2MaxBtn{
  width:min(260px, 90%);
  height:36px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.06);
  color:#fff;
  font-weight:800;
  letter-spacing:0.10em;
  cursor:pointer;
}
.rmL2MaxBtn.on{
  background: rgba(0,120,255,0.28);
  border-color: rgba(0,140,255,0.65);
  box-shadow: 0 0 0 1px rgba(0,140,255,0.45) inset, 0 10px 22px rgba(0,0,0,0.35);
  animation: rmL2MaxBlink 1.0s ease-in-out infinite;
}
@keyframes rmL2MaxBlink{
  0%,100%{ filter:brightness(1.0); }
  50%{ filter:brightness(1.55); }
}

.rmL2Hint{ font-size:11px; opacity:0.55; }


/* Delay Machine (DAW-ish) */
.rmDmStage{ width:100%; height:100%; display:flex; align-items:center; justify-content:center; }
.rmDmSkin{ width:760px; height:420px; transform-origin:0 0; }
.rmDmPanel{ width:760px; height:420px; box-sizing:border-box; padding:14px 16px; border-radius:16px; background: linear-gradient(180deg, rgba(16,16,20,0.96), rgba(10,10,12,0.96)); border:1px solid rgba(255,255,255,0.08); display:flex; flex-direction:column; gap:12px; user-select:none; }
.rmDmHead{ display:flex; justify-content:space-between; align-items:baseline; }
.rmDmBrand{ font-weight:900; letter-spacing:0.14em; opacity:0.95; }
.rmDmSub{ font-size:12px; opacity:0.55; }
.rmDmGrid{ flex:1 1 auto; display:grid; grid-template-columns: repeat(4, 1fr); gap:14px; align-items:center; justify-items:center; }
.rmDmKn{ width:150px; display:flex; flex-direction:column; align-items:center; gap:8px; }
.rmDmKnLbl{ font-size:12px; letter-spacing:0.14em; opacity:0.88; text-align:center; }
.rmDmKnVal{ font-size:12px; opacity:0.85; font-variant-numeric: tabular-nums; }
.rmDmKnob{ width:96px; height:96px; border-radius:999px; background: rgba(0,0,0,0.24); border:1px solid rgba(255,255,255,0.10); position:relative; }
.rmDmInd{ position:absolute; left:50%; top:10px; width:4px; height:44px; border-radius:999px; transform-origin:50% 86%; background: rgba(255,255,255,0.35); transform:translateX(-50%) rotate(-90deg);} 
.rmDmSwitchRow{ display:flex; gap:10px; align-items:center; justify-content:center; }
.rmDmBtn{ height:30px; padding:0 14px; border-radius:999px; border:1px solid rgba(255,255,255,0.12); background:rgba(255,255,255,0.06); color:#fff; font-weight:800; letter-spacing:0.10em; font-size:11px; cursor:pointer;}
.rmDmBtn.on{ background:rgba(255,255,255,0.16); border-color:rgba(255,255,255,0.22);} 

/* De-esser (Waves-ish) */
.rmDeStage{ width:100%; height:100%; display:flex; align-items:center; justify-content:center; }
.rmDeSkin{ width:640px; height:320px; transform-origin:0 0; }
.rmDePanel{
  width:640px; height:320px;
  box-sizing:border-box;
  padding:14px 16px;
  border-radius:16px;
  background: linear-gradient(180deg, rgba(16,16,20,0.96), rgba(10,10,12,0.96));
  border:1px solid rgba(255,255,255,0.08);
  display:flex;
  flex-direction:column;
  gap:12px;
  user-select:none;
}
.rmDeHead{ display:flex; justify-content:space-between; align-items:baseline; }
.rmDeBrand{ font-weight:900; letter-spacing:0.14em; opacity:0.95; }
.rmDeSub{ font-size:12px; opacity:0.55; }
.rmDeBody{ display:flex; gap:12px; flex:1; align-items:stretch; }
.rmDeFWrap{ flex:0 0 170px; display:flex; flex-direction:column; align-items:center; gap:8px; }
.rmDeFWrapOut{ flex-basis:150px; }
.rmDeMid{ flex:1 1 auto; display:flex; flex-direction:column; align-items:center; justify-content:center; gap:14px; }
.rmDeFLbl{ font-size:12px; letter-spacing:0.14em; opacity:0.88; }
.rmDeFVal{ font-size:12px; opacity:0.85; font-variant-numeric: tabular-nums; }
.rmDeFader{ width:84px; flex:1; display:flex; }
.rmDeFTrack{
  position:relative;
  flex:1;
  border-radius:14px;
  background: rgba(0,0,0,0.24);
  border:1px solid rgba(255,255,255,0.10);
  overflow:visible;
}
.rmDeGR{ position:absolute; inset:0; opacity:0.60; }
.rmDeGRFill{
  position:absolute;
  left:0; right:0; bottom:0;
  height:0%;
  background: linear-gradient(0deg,
    rgba(0,255,120,0.85) 0%,
    rgba(255,220,0,0.85) 60%,
    rgba(255,60,60,0.90) 100%);
}
.rmDeFThumb{
  position:absolute;
  left:50%;
  width:74px;
  height:16px;
  border-radius:999px;
  transform:translate(-50%,-50%);
  background: rgba(255,255,255,0.20);
  border:1px solid rgba(255,255,255,0.22);
  box-shadow: 0 4px 14px rgba(0,0,0,0.35);
}
.rmDeKnobs{ flex:1 1 auto; display:flex; gap:12px; align-items:center; justify-content:center; }
.rmDeKWrap{ width:120px; display:flex; flex-direction:column; align-items:center; gap:8px; }
.rmDeKLbl{ font-size:12px; letter-spacing:0.14em; opacity:0.88; }
.rmDeKVal{ font-size:12px; opacity:0.85; font-variant-numeric: tabular-nums; }
.rmDeKnob{
  width:96px; height:96px;
  border-radius:999px;
  background: rgba(0,0,0,0.24);
  border:1px solid rgba(255,255,255,0.10);
  position:relative;
}
.rmDeKnobInd{
  position:absolute;
  left:50%; top:10px;
  width:4px; height:44px;
  border-radius:999px;
  transform-origin:50% 86%;
  background: rgba(255,255,255,0.35);
  transform:translateX(-50%) rotate(-90deg);
}
.rmDeType{ display:flex; gap:10px; align-items:center; justify-content:center; margin-top:2px; }
.rmDeTypeBtn{ height:28px; padding:0 14px; border-radius:999px; border:1px solid rgba(255,255,255,0.12); background:rgba(255,255,255,0.06); color:#fff; font-weight:800; letter-spacing:0.10em; font-size:11px; cursor:pointer; }
.rmDeTypeBtn.on{ background:rgba(255,255,255,0.16); border-color:rgba(255,255,255,0.22); }


@media (max-width: 520px){
  .rmL2Panel{ padding:12px 12px 10px; gap:10px; border-radius:14px; }
  .rmL2Col{ flex-basis:170px; }
  .rmL2Fader{ height:220px; width:96px; }
  .rmL2AttMeter{ height:140px; }
  .rmDePanel{ padding:12px 12px 10px; border-radius:14px; }
}

@media (max-height: 520px){
  .rmL2Panel{ padding:12px 12px 10px; gap:10px; border-radius:14px; }
  .rmL2Left,.rmL2Right{ flex-basis:108px; }
  .rmL2Meter{ height:170px; width:30px; border-radius:9px; }
  .rmL2Fader{ height:190px; width:50px; padding:8px 10px; }
}


/* Kicker 50 Hz (L2-ish) */
.rmK2Stage{ width:100%; height:100%; display:flex; align-items:center; justify-content:center; }
.rmK2Skin{ width:680px; height:360px; transform-origin:0 0; }
.rmK2Panel{ width:680px; height:360px; box-sizing:border-box; padding:14px 16px; border-radius:16px; background: linear-gradient(180deg, rgba(18,18,22,0.96), rgba(10,10,12,0.96)); border:1px solid rgba(255,255,255,0.08); display:flex; gap:14px; user-select:none; }
.rmK2Cols{ flex:1 1 auto; display:flex; gap:14px; align-items:stretch; justify-content:space-between; }
.rmK2MeterCol{ flex:0 0 140px; display:flex; flex-direction:column; align-items:center; justify-content:center; gap:8px; }
.rmK2OutMeter{ width:34px; height:220px; border-radius:12px; background: rgba(0,0,0,0.24); border:1px solid rgba(255,255,255,0.10); overflow:hidden; position:relative; }
.rmK2OutFill{ position:absolute; left:0; right:0; bottom:0; height:0%; background: linear-gradient(0deg,
    rgba(0,255,120,0.85) 0%,
    rgba(255,220,0,0.85) 60%,
    rgba(255,60,60,0.90) 100%);
  opacity:0.85;
}
.rmK2OutLbl{ font-size:12px; letter-spacing:0.14em; opacity:0.88; }
.rmK2OutVal{ font-size:12px; opacity:0.85; font-variant-numeric: tabular-nums; }

.rmK2FreqWrap{ width:100%; display:flex; flex-direction:column; gap:6px; margin-top:10px; }
.rmK2FreqTop{ display:flex; justify-content:space-between; align-items:center; font-size:12px; letter-spacing:0.14em; opacity:0.88; width:100%; }
.rmK2FreqVal{ font-variant-numeric: tabular-nums; opacity:0.9; }
.rmK2FreqSlider{
  width:100%;
  appearance:none;
  height:14px;
  border-radius:999px;
  background: rgba(255,255,255,0.14);
  border:1px solid rgba(255,255,255,0.12);
  outline:none;
}
.rmK2FreqSlider::-webkit-slider-thumb{
  appearance:none;
  width:16px;
  height:16px;
  border-radius:999px;
  background: rgba(255,255,255,0.85);
  border:1px solid rgba(0,0,0,0.25);
  box-shadow: 0 4px 14px rgba(0,0,0,0.35);
}
.rmK2FreqSlider::-moz-range-thumb{
  width:16px;
  height:16px;
  border-radius:999px;
  background: rgba(255,255,255,0.85);
  border:1px solid rgba(0,0,0,0.25);
  box-shadow: 0 4px 14px rgba(0,0,0,0.35);
}

/* Default window sizing so the full L2 UI is visible (still scales down if needed) */
.pluginWin.layout_rm_limiter2:not(.fullscreen){ width:min(620px, 96vw); height:min(480px, 92vh); }
.pluginWin.layout_rm_limiter2 .plugLayoutHdr{ display:none; }
.pluginWin.layout_rm_limiter2 .pluginWinBody{ overflow:hidden; }



/* EQT-1A (DAW-ish) */
.rmEqtStage{ width:100%; height:100%; display:flex; align-items:center; justify-content:center; }
.rmEqtSkin{ width:760px; height:420px; transform-origin:0 0; }
.rmEqtPanel{ width:760px; height:420px; box-sizing:border-box; padding:14px 16px; border-radius:16px; background: linear-gradient(180deg, rgba(16,16,20,0.96), rgba(10,10,12,0.96)); border:1px solid rgba(255,255,255,0.08); display:flex; flex-direction:column; gap:12px; user-select:none; }
.rmEqtHead{ display:flex; justify-content:space-between; align-items:baseline; }
.rmEqtBrand{ font-weight:900; letter-spacing:0.14em; opacity:0.95; }
.rmEqtSub{ font-size:12px; opacity:0.55; }
.rmEqtCols{ flex:1 1 auto; display:grid; grid-template-columns: repeat(3, 1fr); gap:14px; align-items:stretch; }
.rmEqtSection{ border-radius:14px; border:1px solid rgba(255,255,255,0.08); background: rgba(0,0,0,0.16); padding:12px; display:flex; flex-direction:column; gap:12px; }
.rmEqtSecTitle{ font-weight:900; letter-spacing:0.12em; font-size:12px; opacity:0.9; }
.rmEqtRow{ display:flex; gap:12px; justify-content:center; flex-wrap:wrap; }
.rmEqtKn{ width:140px; display:flex; flex-direction:column; align-items:center; gap:8px; }
.rmEqtKnLbl{ font-size:12px; letter-spacing:0.14em; opacity:0.88; text-align:center; }
.rmEqtKnVal{ font-size:12px; opacity:0.85; font-variant-numeric: tabular-nums; }
.rmEqtKnob{ width:92px; height:92px; border-radius:999px; background: rgba(0,0,0,0.24); border:1px solid rgba(255,255,255,0.10); position:relative; }
.rmEqtInd{ position:absolute; left:50%; top:10px; width:4px; height:42px; border-radius:999px; transform-origin:50% 86%; background: rgba(255,255,255,0.35); transform:translateX(-50%) rotate(-90deg);} 
.rmEqtOut{ margin-top:auto; display:flex; align-items:center; justify-content:center; }

/* RM_Lexikan2 (simplified DAW look) */
.rmLex2Stage{ position:relative; display:flex; justify-content:center; align-items:center; width:100%; height:100%; }
.rmLex2Skin{ width:760px; height:420px; transform-origin: top left; position:relative; }
.rmLex2Panel{
  width:760px; height:420px;
  position:relative;
  background-image:url("tukan/lexi2/Lexi2.png");
  background-repeat:no-repeat;
  background-size:contain;
  background-position:center;
  border-radius:22px;
  box-shadow:0 14px 28px rgba(0,0,0,0.35);
}
.rmLex2Bar{
  position:absolute;
  left:0; right:0; bottom:0;
  padding:14px 18px 16px;
  display:flex;
  flex-wrap:wrap;
  gap:14px;
  justify-content:center;
  align-items:flex-end;
  background: rgba(0,0,0,0.18);
  backdrop-filter: blur(4px);
  border-top:1px solid rgba(255,255,255,0.08);
  border-bottom-left-radius:22px;
  border-bottom-right-radius:22px;
}

/* ==========================
   RM EQ4 Pro-Q style panel
   ========================== */
.rmEqProQ{ width:100%; max-width:980px; margin:0 auto; box-sizing:border-box; }
.rmEqProQ *{ box-sizing:border-box; }
.rmEqCanvasWrap{
  position:relative;
  width:100%;
  aspect-ratio: 16/9;
  min-height:240px;
  border-radius:14px;
  background:linear-gradient(#1b1e23,#101216);
  border:1px solid rgba(255,255,255,.10);
  box-shadow:0 10px 20px rgba(0,0,0,.30);
  overflow:visible;
  touch-action:none;
}

.rmEqCanvasWrap{ /* Pro-Q chrome */ }
.rmEqCanvas{ position:absolute; inset:0; width:100%; height:100%; z-index:1; pointer-events:none; }
.rmEqDecoTop{
  position:absolute; left:0; right:0; top:0; height:42px;
  display:flex; align-items:center; justify-content:space-between;
  padding:10px 14px; z-index:2; pointer-events:none;
  background:linear-gradient(180deg, rgba(0,0,0,.35), rgba(0,0,0,0));
  font-size:12px;
}
.rmEqBrand{ display:flex; align-items:baseline; gap:6px; letter-spacing:.2px; }
.rmEqBrand .rmEqFab{ font-size:11px; text-transform:lowercase; opacity:.75; }
.rmEqBrand .rmEqPro{ font-size:16px; font-weight:700; opacity:.92; }
.rmEqBrand .rmEqVer{ font-size:12px; font-weight:700; opacity:.8; }
.rmEqTopHint{ opacity:.65; }
.rmEqDecoKeys{
  position:absolute; left:0; right:0; bottom:0; height:36px;
  z-index:2; pointer-events:none;
  background:
    repeating-linear-gradient(90deg, rgba(255,255,255,.06) 0 2px, rgba(255,255,255,0) 2px 10px),
    linear-gradient(180deg, rgba(0,0,0,.15), rgba(0,0,0,.35));
  opacity:.65;
}
.rmEqDecoRight{
  position:absolute; top:42px; bottom:36px; right:0; width:52px;
  z-index:2; pointer-events:none;
  display:flex; flex-direction:column; justify-content:space-between;
  padding:10px 8px;
  color:rgba(255,255,255,.55);
  font-size:11px;
  text-align:right;
}
.rmEqPoint{ z-index:3; }

.rmEqPoint{
  position:absolute;
  width:18px; height:18px;
  border-radius:50%;
  transform:translate(-50%,-50%);
  touch-action:none;
  user-select:none;
}
.rmEqPoint::after{
  content:"";
  position:absolute;
  inset:4px;
  border-radius:50%;
  background:rgba(0,0,0,.22);
}
.rmEqPoint.sel{ box-shadow:0 0 0 3px rgba(255,255,255,.20), 0 0 14px rgba(255,255,255,.18); }
.rmEqPoint.off{
  filter:saturate(.75) brightness(.65);
  outline:2px solid rgba(255,255,255,.28);
  outline-offset:2px;
}
.rmEqControls{
  margin-top:10px;
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:8px;
}
@media (min-width:520px){
  .rmEqControls{ grid-template-columns:repeat(4,1fr); }
}
.rmEqCtl{
  background:rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.10);
  border-radius:12px;
  padding:10px;
  display:flex;
  flex-direction:column;
  gap:6px;
}
.rmEqCtl label{ font-size:12px; color:var(--muted); }
.rmEqCtl .rmEqMiniRow{ display:flex; align-items:center; justify-content:space-between; gap:10px; }
.rmEqCtl .pill{ padding:6px 10px; }


/* EQT-1A (DAW-ish) */
.rmEqtStage{ width:100%; height:100%; display:flex; align-items:center; justify-content:center; }
.rmEqtSkin{ width:760px; height:420px; transform-origin:0 0; }
.rmEqtPanel{ width:760px; height:420px; box-sizing:border-box; padding:14px 16px; border-radius:16px; background: linear-gradient(180deg, rgba(16,16,20,0.96), rgba(10,10,12,0.96)); border:1px solid rgba(255,255,255,0.08); display:flex; flex-direction:column; gap:12px; user-select:none; }
.rmEqtHead{ display:flex; justify-content:space-between; align-items:baseline; }
.rmEqtBrand{ font-weight:900; letter-spacing:0.14em; opacity:0.95; }
.rmEqtSub{ font-size:12px; opacity:0.55; }
.rmEqtCols{ flex:1 1 auto; display:grid; grid-template-columns: repeat(3, 1fr); gap:14px; align-items:stretch; }
.rmEqtSection{ border-radius:14px; border:1px solid rgba(255,255,255,0.08); background: rgba(0,0,0,0.16); padding:12px; display:flex; flex-direction:column; gap:12px; }
.rmEqtSecTitle{ font-weight:900; letter-spacing:0.12em; font-size:12px; opacity:0.9; }
.rmEqtRow{ display:flex; gap:12px; justify-content:center; flex-wrap:wrap; }
.rmEqtKn{ width:140px; display:flex; flex-direction:column; align-items:center; gap:8px; }
.rmEqtKnLbl{ font-size:12px; letter-spacing:0.14em; opacity:0.88; text-align:center; }
.rmEqtKnVal{ font-size:12px; opacity:0.85; font-variant-numeric: tabular-nums; }
.rmEqtKnob{ width:92px; height:92px; border-radius:999px; background: rgba(0,0,0,0.24); border:1px solid rgba(255,255,255,0.10); position:relative; }
.rmEqtInd{ position:absolute; left:50%; top:10px; width:4px; height:42px; border-radius:999px; transform-origin:50% 86%; background: rgba(255,255,255,0.35); transform:translateX(-50%) rotate(-90deg);} 
.rmEqtOut{ margin-top:auto; display:flex; align-items:center; justify-content:center; }

/* ==========================
   RM Preamp VU overlays
   ========================== */
.preVuSlot{
  position:absolute;
  /* Match PREBack.png bar apertures (350x410): x=28..321, y=167..185 and y=197..215 */
  left:28px;
  width:294px;
  height:19px;
  border-radius:4px;
  background:rgba(0,0,0,.40);
  border:1px solid rgba(0,0,0,.70);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.07);
  overflow:visible;
}
.preVuSlot.in{ top:167px; }
.preVuSlot.out{ top:197px; }

/* grey strip removed: meters fill to the end */
.preVuSlot::after{ display:none; }
.preVuFill{
  position:absolute; left:0; top:0; bottom:0;
  width:0%;
  background:linear-gradient(90deg, rgba(90,255,150,.95), rgba(255,210,90,.95) 70%, rgba(255,90,90,.95));
  transition: width 0.02s linear;
}
.preVuSeg{
  position:absolute; inset:0;
  pointer-events:none;
  background: repeating-linear-gradient(90deg,
    rgba(0,0,0,0) 0px,
    rgba(0,0,0,0) 8px,
    rgba(0,0,0,.55) 8px,
    rgba(0,0,0,.55) 10px
  );
  opacity:.75;
}
.preVuPeak{
  position:absolute; top:0; bottom:0;
  width:2px;
  left:0%;
  background:rgba(255,255,255,.85);
  box-shadow:0 0 0 1px rgba(0,0,0,.35);
  transition: left 0.02s linear;
}

.preOverLed{
  position:absolute;
  left:243px;
  top:267px;
  width:18px;
  height:18px;
  background-image:url(tukan/pre/overLED.png);
  background-repeat:no-repeat;
  background-size:100% 200%;
  background-position:0 100%;
  opacity:.95;
  filter:drop-shadow(0 2px 4px rgba(0,0,0,.6));
  cursor:pointer;
}
.preOverLed.on{ background-position:0 0%; }

/* ===== RM_EQ Pro-Q style point panel ===== */
.rmEqCanvasWrap{ position:relative; }
.rmEqBottomRow{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  margin-top:10px;
  padding:10px 12px;
  border-radius:16px;
  background: rgba(0,0,0,.22);
  border: 1px solid rgba(255,255,255,.08);
}
.rmEqBottomLeft{ display:flex; align-items:center; gap:10px; flex:1; min-width:0; }
.rmEqMiniLabel{ opacity:.75; font-size:12px; letter-spacing:.08em; text-transform:uppercase; }
.rmEqOut{ flex:1; min-width:120px; }
.rmEqOutVal{ min-width:64px; text-align:right; opacity:.85; }

.rmEqPointPanel{
  position:absolute;
  left:50%;
  bottom:12px;
  transform: translateX(-50%);
  z-index: 10;
  pointer-events: auto;
  width: min(92%, 680px);
  padding: 10px 12px 12px;
  border-radius: 18px;
  background: rgba(0,0,0,.28);
  border: 1px solid rgba(255,255,255,.10);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  box-shadow: 0 16px 40px rgba(0,0,0,.35);
  opacity: .82;
  transition: opacity .12s ease;
}
.rmEqProQ.draggingPoint .rmEqPointPanel{ opacity: .45; }

.rmEqPointPanel.collapsed{
  padding: 8px 10px;
  border-radius: 16px;
  background: rgba(0,0,0,.18);
  opacity: .72;
}
.rmEqPointPanel.collapsed .rmEqPointBody{ display:none; }
.rmEqPointPanel.collapsed .rmEqPointSub{ display:none; }

.rmEqCollapse{ width:34px; height:30px; padding:0; border-radius:12px; }

.rmEqPointHdr{ display:flex; align-items:center; justify-content:space-between; gap:10px; }
.rmEqPointTitle{ display:flex; flex-direction:column; gap:2px; min-width:0; }
.rmEqPointName{ font-size:18px; font-weight:900; letter-spacing:.02em; }
.rmEqPointSub{ font-size:12px; opacity:.7; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.rmEqHdrRight{ display:flex; align-items:center; gap:8px; }
.rmEqDelete{
  min-width:64px;
  height:30px;
  border-radius:12px;
}

.rmEqPointBody{ margin-top:10px; display:flex; flex-direction:column; gap:10px; }
.rmEqTypeBlock{ display:flex; align-items:center; justify-content:space-between; gap:10px; flex-wrap:wrap; }
.rmEqTypeBtns, .rmEqSlopeBtns{ display:flex; gap:8px; flex-wrap:wrap; }

.rmEqKnobRow{ display:flex; gap:14px; justify-content:space-between; }
.rmEqKnob{
  flex:1;
  min-width:0;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:6px;
  user-select:none;
  -webkit-user-select:none;
  touch-action:none;
}
.rmEqKnob.disabled{ opacity:.35; pointer-events:none; }
.rmEqKnobFace{
  width:74px;
  height:74px;
  border-radius: 999px;
  background: radial-gradient(circle at 30% 25%, rgba(255,255,255,.18), rgba(0,0,0,.25) 55%, rgba(0,0,0,.55));
  border: 1px solid rgba(255,255,255,.10);
  position:relative;
}
.rmEqKnobFace::after{
  content:"";
  position:absolute;
  left:50%;
  top:50%;
  width:36px;
  height:2px;
  background: rgba(255,255,255,.82);
  transform-origin: 0% 50%;
  transform: translate(-6px, -1px) rotate(var(--ang, 0deg));
  border-radius: 99px;
  opacity:.85;
}
.rmEqKnobVal{ font-variant-numeric: tabular-nums; font-size:14px; opacity:.9; }
.rmEqKnobLab{ font-size:11px; letter-spacing:.12em; text-transform:uppercase; opacity:.6; }

.rmEqNav{ width:34px; height:30px; padding:0; border-radius:12px; }
.rmEqToggle{ min-width:56px; height:30px; border-radius:12px; }

.rmEqPanelFab{ display:none; }

/* Phone: bottom-sheet panel + more room for graph */
@media (max-width: 900px){
  .rmEqProQ{ max-width: 100%; margin:0; }

  /* Use svh so mobile address bar doesn't break the layout */
  .rmEqCanvasWrap{
    height: 54svh;
    min-height: 200px;
    max-height: none;
    /* Prevent portrait overflow: on some mobile browsers aspect-ratio + fixed height can oversize width */
    aspect-ratio: unset;
    max-width: 100%;
    width: 100%;
  }

  /* Panel becomes a bottom-sheet overlay (doesn't steal space from graph) */
  .rmEqPointPanel{
    position: fixed;
    left: 10px;
    right: 10px;
    bottom: 10px;
    width: auto;
    margin: 0;
    transform: none;
    opacity: .90;
  }

  /* Collapsed = hide the sheet; use the floating button instead */
  .rmEqPointPanel.collapsed{ display:none; }

  .rmEqKnobFace{ width:56px; height:56px; }
  .rmEqKnobFace::after{ width:30px; }

  /* Keep bottom row compact (often below the fold on phones anyway) */
  .rmEqBottomRow{ flex-direction:column; align-items:stretch; gap:10px; }
  .rmEqBottomLeft{ width:100%; }
  .rmEqBottomRight{ display:flex; gap:10px; justify-content:space-between; }

  /* Floating show-panel button */
  .rmEqPanelFab{
    position:absolute;
    left: 12px;
    bottom: 12px;
    z-index: 12;
    width: 44px;
    height: 44px;
    border-radius: 16px;
    display:none;
  }
}


/* Extra-small phones: tighter RM_EQ panel so graph stays readable */
/* Extra-small phones: more compact RM_EQ so the graph is larger */
@media (max-width: 520px), (pointer: coarse) and (max-width: 900px){
  .rmEqCanvasWrap{ height: 56svh; min-height: 220px; max-height: none; width:100%; max-width:100%; }
  .pluginWin.fullscreen.layout_rm_eq4 .pluginWinBody,
  .pluginWin.fullscreen.layout_rm_eq2 .pluginWinBody{ overflow-x:hidden; }
  .rmEqPointPanel{ padding: 6px 8px 8px; border-radius: 14px; }
  .rmEqPointHdr{ gap:6px; }
  .rmEqPointName{ font-size:15px; }
  .rmEqPointSub{ font-size:11px; }
  .rmEqTypeBtns, .rmEqSlopeBtns{ gap:6px; }
  .rmEqProQ .pill{ font-size:11px; padding:4px 9px; border-radius:999px; }
  .rmEqKnobRow{ gap:8px; }
  .rmEqKnobFace{ width:50px; height:50px; }
  .rmEqKnobFace::after{ width:26px; }
  .rmEqKnobVal{ font-size:12px; }
  .rmEqKnobLab{ font-size:9px; }
  .rmEqNav{ width:30px; height:26px; border-radius: 9px; }
  .rmEqToggle{ min-width:48px; height:26px; border-radius: 9px; font-size:12px; }
  .rmEqDelete{ min-width:52px; height:26px; border-radius: 9px; font-size:12px; }
  .rmEqBottomRow{ padding:8px 10px; border-radius:14px; gap:8px; }
  .rmEqOutVal{ min-width:56px; font-size:12px; }
  .rmEqBottomRight .pill{ height:28px; }
}

@media (max-width: 520px) and (orientation: portrait){
  #leftHeader,
  #centerHeader{display:none;}
  #topbar{justify-content:flex-end; padding:0 8px;}
  #rightHeader{flex:1; justify-content:flex-end;}
  #playerBtn{display:grid;}
}

/* Portrait phones: keep the point panel compact even when expanded */
@media (max-width: 520px) and (orientation: portrait){
  .rmEqProQ{ overflow:hidden; }
  .rmEqCanvasWrap{ height: 58svh; min-height: 240px; }
  .rmEqPointPanel{ left: 8px; right: 8px; bottom: 8px; max-height: 40svh; overflow:auto; }
  .rmEqPointBody{ gap: 8px; }
  .rmEqKnobRow{ gap: 6px; }
  .rmEqKnobFace{ width:44px; height:44px; }
  .rmEqKnobFace::after{ width:24px; }
  .rmEqProQ .pill{ font-size:10px; padding:4px 8px; }
}



/* ---- RM_Kicker50hz: L2-like compact panel ---- */
.rmKickStage{ width:100%; height:100%; display:flex; align-items:center; justify-content:center; }
.rmKickSkin{ width:560px; height:360px; transform-origin:0 0; }
.rmKickPanel{
  width:560px; height:360px;
  box-sizing:border-box;
  padding:14px 16px;
  border-radius:16px;
  background: linear-gradient(180deg, rgba(18,18,22,0.96), rgba(10,10,12,0.96));
  border:1px solid rgba(255,255,255,0.08);
  display:flex;
  gap:14px;
  user-select:none;
}
.rmKickCol{ flex:0 0 190px; display:flex; align-items:stretch; justify-content:center; }
.rmKickMid{ flex:1 1 auto; display:flex; flex-direction:column; align-items:center; justify-content:center; gap:14px; }
.rmKickFreqWrap{ display:flex; flex-direction:column; align-items:center; gap:8px; }
.rmKickFreqLbl{ font-size:12px; letter-spacing:0.14em; opacity:0.88; }
.rmKickKnob{ width:96px; height:96px; position:relative; }
.rmKickMeterWrap{ width:36px; height:260px; position:relative; border-radius:14px; background:rgba(0,0,0,0.24); border:1px solid rgba(255,255,255,0.10); overflow:hidden; }
.rmKickMeterFill{ position:absolute; left:0; right:0; bottom:0; height:0%; background:linear-gradient(180deg, rgba(255,255,255,0.18), rgba(255,255,255,0.06)); opacity:0.9; }

/* ---- Tukan skinned panels (Delay / Lexikan2 / EQT-1A) ---- */

.rmDelaySkin, .rmLexi2Skin{ position:absolute; left:0; top:0; overflow:hidden; border-radius:18px; box-shadow:0 12px 32px rgba(0,0,0,0.55); }
.rmDelayBg, .rmLexi2Bg{ position:absolute; inset:0; background-repeat:no-repeat; background-size:100% 100%; background-position:center; }
.rmDelaySkin .tkSprite, .rmLexi2Skin .tkSprite{ position:absolute; }
.rmDelayInfo{
  position:absolute;
  left:190px;
  top:28px;
  width:510px;
  height:18px;
  font-family: ui-monospace, Menlo, Monaco, "Courier New", monospace;
  font-size:13px;
  line-height:18px;
  letter-spacing:0.02em;
  color:#d23;
  text-shadow:0 0 3px rgba(255,0,0,0.25);
  white-space:nowrap;
  overflow:hidden;
  pointer-events:none;
  user-select:none;
}
.rmLexi2Btn{ position:absolute; background:transparent; border:0; outline:none; cursor:pointer; opacity:0.01; }
.rmLexi2Btn.on{ opacity:1; background:rgba(0,145,255,0.18); box-shadow:0 0 10px 3px rgba(0,145,255,0.85); border-radius:9px; }
.rmLexi2Hi{ position:absolute; pointer-events:none; opacity:0.95; }
.rmLexi2Knob{ border-radius:50%; }
.rmLexi2Led{ cursor:pointer; }

.tkScrew{ cursor:pointer; }
.tkImgStage{ width:100%; height:100%; display:flex; align-items:center; justify-content:center; }
.tkImgSkin{ transform-origin:0 0; position:relative; }
.tkBg{ position:absolute; inset:0; background-repeat:no-repeat; background-size:100% 100%; }
.tkAbs{ position:absolute; }
.tkAbs.btn{ cursor:pointer; }


.rmDbgPanel{
  position:absolute;
  left:8px;
  top:8px;
  z-index:9999;
  font-family: ui-monospace, Menlo, Monaco, 'Courier New', monospace;
  font-size:11px;
  line-height:1.25;
  color: rgba(255,255,255,0.88);
  background: rgba(0,0,0,0.55);
  border:1px solid rgba(255,255,255,0.14);
  border-radius:10px;
  padding:6px 8px;
  white-space:pre;
  pointer-events:none;
  user-select:none;
  text-shadow:0 1px 2px rgba(0,0,0,0.65);
}



/* ===== RM DelayMachine (new HTML UI) ===== */
.tukanHost.rmDM2Host{
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  padding: 10px;
  overflow: hidden;
}
.rmDM2Panel{
  width: 980px;
  height: 360px;
  box-sizing: border-box;
  background: rgba(18,18,18,0.92);
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: 18px;
  padding: 14px 14px 12px 14px;
  transform-origin: top center;
  box-shadow: 0 10px 30px rgba(0,0,0,0.45);
  user-select: none;
}
.rmDM2LedBar{
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 10px;
  padding: 8px 10px;
  border-radius: 12px;
  background: rgba(10,10,10,0.85);
  border: 1px solid rgba(255,255,255,0.06);
  margin-bottom: 12px;
}
.rmDM2LedSeg{
  border-radius: 10px;
  padding: 6px 8px;
  background: rgba(40,0,0,0.25);
  border: 1px solid rgba(255,80,80,0.18);
  min-height: 38px;
}
.rmDM2LedLabel{
  font-size: 10px;
  letter-spacing: 0.12em;
  opacity: 0.7;
}
.rmDM2LedValue{
  font-size: 16px;
  font-weight: 700;
  margin-top: 2px;
  color: rgba(255,120,120,0.95);
  text-shadow: 0 0 12px rgba(255,70,70,0.35);
}
.rmDM2Flash{
  animation: rmDM2Flash 0.28s ease-out;
}
@keyframes rmDM2Flash{
  0%{ filter: brightness(1.6); box-shadow: 0 0 0 rgba(255,70,70,0); }
  100%{ filter: brightness(1.0); box-shadow: 0 0 18px rgba(255,70,70,0.18); }
}

.rmDM2Main{
  display: grid;
  grid-template-columns: 1fr 210px;
  gap: 12px;
}
.rmDM2Knobs{
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  gap: 10px;
}
.rmDM2KnobWrap{
  background: rgba(255,255,255,0.03);
  border: 1px solid rgba(255,255,255,0.05);
  border-radius: 14px;
  padding: 10px 10px 8px 10px;
  text-align: center;
}
.rmDM2KnobLabel{
  font-size: 11px;
  letter-spacing: 0.10em;
  opacity: 0.75;
  margin-bottom: 8px;
}
.rmDM2Knob{
  width: 64px;
  height: 64px;
  border-radius: 999px;
  margin: 0 auto;
  position: relative;
  background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.20), rgba(0,0,0,0.35));
  border: 1px solid rgba(255,255,255,0.10);
  box-shadow: inset 0 0 18px rgba(0,0,0,0.55);
  touch-action: none;
}
.rmDM2DotRing{
  position: absolute;
  inset: 0;
  pointer-events: none;
}
.rmDM2Dot{
  position: absolute;
  width: 3px;
  height: 3px;
  border-radius: 99px;
  background: rgba(255,255,255,0.18);
}
.rmDM2Needle{
  position: absolute;
  left: 50%;
  top: 50%;
  width: 2px;
  height: 22px;
  background: rgba(255,255,255,0.85);
  border-radius: 2px;
  transform-origin: 50% 90%;
  transform: translate(-50%, -90%) rotate(-135deg);
  box-shadow: 0 0 10px rgba(255,255,255,0.25);
}
.rmDM2KnobValue{
  margin-top: 8px;
  font-size: 12px;
  font-weight: 650;
  opacity: 0.9;
}
.rmDM2FlashText{
  animation: rmDM2FlashText 0.22s ease-out;
}
@keyframes rmDM2FlashText{
  0%{ filter: brightness(1.6); }
  100%{ filter: brightness(1.0); }
}

.rmDM2Right{
  display: flex;
  flex-direction: column;
  gap: 10px;
}
.rmDM2Row{
  display: flex;
  gap: 10px;
}
.rmDM2Toggle{
  flex: 1;
  height: 44px;
  border-radius: 14px;
  background: rgba(255,255,255,0.04);
  border: 1px solid rgba(255,255,255,0.08);
  color: rgba(255,255,255,0.9);
  font-weight: 700;
  letter-spacing: 0.08em;
}
.rmDM2Toggle.on{
  background: rgba(255,60,60,0.18);
  border-color: rgba(255,60,60,0.25);
  box-shadow: 0 0 18px rgba(255,60,60,0.14);
}
.rmDM2Start{
  width: 100%;
  height: 52px;
  border-radius: 16px;
  background: rgba(255,255,255,0.04);
  border: 1px solid rgba(255,255,255,0.08);
  color: rgba(255,255,255,0.95);
  font-weight: 800;
  letter-spacing: 0.12em;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
}
.rmDM2StartLed{
  width: 10px;
  height: 10px;
  border-radius: 99px;
  background: rgba(255,60,60,0.12);
  box-shadow: 0 0 0 rgba(255,60,60,0);
}
.rmDM2Start.l .rmDM2StartLed.L,
.rmDM2Start.r .rmDM2StartLed.R{
  background: rgba(255,60,60,0.90);
  box-shadow: 0 0 18px rgba(255,60,60,0.35);
}

.rmDM2Bottom{
  margin-top: 12px;
  display: grid;
  grid-template-columns: 80px 80px 1fr;
  gap: 10px;
  align-items: end;
}
.rmDM2Divs{
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 10px;
}
.rmDM2Btn{
  position: relative;
  height: 46px;
  border-radius: 14px;
  background: rgba(255,255,255,0.035);
  border: 1px solid rgba(255,255,255,0.08);
  color: rgba(255,255,255,0.92);
  font-weight: 800;
  letter-spacing: 0.10em;
}
.rmDM2Btn .rmDM2BtnLed{
  position: absolute;
  left: 50%;
  bottom: 6px;
  transform: translateX(-50%);
  width: 12px;
  height: 6px;
  border-radius: 99px;
  background: rgba(255,60,60,0.10);
}
.rmDM2Btn.on{
  border-color: rgba(255,60,60,0.25);
  box-shadow: 0 0 18px rgba(255,60,60,0.12);
}
.rmDM2Btn.on .rmDM2BtnLed{
  background: rgba(255,60,60,0.95);
  box-shadow: 0 0 18px rgba(255,60,60,0.35);
  animation: rmDM2Blink 0.85s linear infinite;
}
@keyframes rmDM2Blink{
  0%,100%{ opacity: 1; }
  50%{ opacity: 0.35; }
}

/* ===== RM EQT-1A (Pultec style) ===== */
.rmPultecHost{
  width: 100%;
  height: 100%;
  display:flex;
  align-items:center;
  justify-content:center;
  padding: 14px;
  box-sizing:border-box;
}
.rmPultecPanel{
  width: 960px;
  max-width: 100%;
  background: linear-gradient(180deg, rgba(72,78,78,0.98), rgba(50,55,55,0.98));
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: 18px;
  padding: 18px 22px 24px;
  color: rgba(245,240,228,0.92);
  box-shadow: 0 18px 40px rgba(0,0,0,0.45);
  display:flex;
  flex-direction:column;
  gap: 18px;
}
.rmPultecHeader{
  display:flex;
  align-items:baseline;
  justify-content:space-between;
  text-transform:uppercase;
  letter-spacing:0.2em;
}
.rmPultecTitle{
  font-size:18px;
  font-weight:800;
}
.rmPultecSub{
  font-size:11px;
  opacity:0.7;
}
.rmPultecLayout{
  display:flex;
  flex-direction:column;
  gap: 22px;
}
.rmPultecRow{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap: 18px;
}
.rmPultecRow .rmDial{
  width: 120px;
}
.rmPultecBottom{
  align-items:center;
}
.rmPultecToggle{
  width: 70px;
  height: 76px;
  border-radius: 18px;
  border: 2px solid rgba(255,255,255,0.2);
  background: linear-gradient(180deg, rgba(20,22,22,0.85), rgba(8,10,10,0.95));
  color: rgba(255,255,255,0.7);
  font-weight: 700;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  cursor: pointer;
  box-shadow: inset 0 2px 6px rgba(0,0,0,0.5);
}
.rmPultecToggle.on{
  border-color: rgba(255,210,120,0.75);
  color: rgba(255,246,210,0.95);
  box-shadow: 0 0 14px rgba(255,200,100,0.25), inset 0 2px 6px rgba(0,0,0,0.5);
}
.rmPultecLed{
  width: 46px;
  height: 46px;
  border-radius: 50%;
  background: radial-gradient(circle at 35% 35%, rgba(255,255,255,0.3), rgba(30,10,10,0.9));
  border: 2px solid rgba(80,20,20,0.8);
  box-shadow: inset 0 4px 10px rgba(0,0,0,0.5);
}
.rmPultecLed.on{
  background: radial-gradient(circle at 35% 35%, rgba(255,220,220,0.9), rgba(200,40,40,0.9));
  border-color: rgba(255,90,90,0.9);
  box-shadow: 0 0 16px rgba(255,60,60,0.6), inset 0 4px 10px rgba(0,0,0,0.4);
}

/* shared dial control */
.rmDial{
  width: 110px;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap: 6px;
}
.rmDialLabel{
  font-size:11px;
  letter-spacing:0.16em;
  text-transform:uppercase;
  opacity:0.8;
}
.rmDialFace{
  width: 86px;
  height: 86px;
  border-radius: 50%;
  background: radial-gradient(circle at 35% 35%, rgba(255,255,255,0.25), rgba(20,18,16,0.95));
  border: 1px solid rgba(255,214,120,0.35);
  position:relative;
  box-shadow: inset 0 0 10px rgba(0,0,0,0.65);
  touch-action: none;
}
.rmDialNeedle{
  position:absolute;
  left: 50%;
  top: 50%;
  width: 2px;
  height: 32px;
  background: rgba(255,214,120,0.95);
  transform-origin: 50% 100%;
  transform: translate(-50%,-100%) rotate(-135deg);
  box-shadow: 0 0 8px rgba(255,214,120,0.6);
}
.rmDialValue{
  font-size:12px;
  opacity:0.85;
  font-variant-numeric: tabular-nums;
}

/* ===== RM Lexikan2 (native CSS) ===== */
.rmLexiHost{
  width:100%;
  height:100%;
  display:flex;
  align-items:center;
  justify-content:center;
  padding: 14px;
  box-sizing:border-box;
}
.rmLexiPanel{
  width: 820px;
  max-width: 100%;
  background: linear-gradient(180deg, rgba(18,22,28,0.98), rgba(10,12,16,0.98));
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: 20px;
  padding: 18px 20px 20px;
  color: rgba(235,240,248,0.92);
  box-shadow: 0 16px 36px rgba(0,0,0,0.5);
  display:flex;
  flex-direction:column;
  gap: 16px;
}
.rmLexiHeader{
  display:flex;
  align-items:center;
  justify-content:space-between;
  text-transform:uppercase;
  letter-spacing:0.2em;
}
.rmLexiTitle{
  font-size:18px;
  font-weight:800;
}
.rmLexiSub{
  font-size:11px;
  opacity:0.7;
}
.rmLexiButtons{
  display:flex;
  flex-direction:column;
  gap: 10px;
}
.rmLexiBtnRow{
  display:grid;
  gap: 10px;
}
.rmLexiBtnRow.rmLexiAlgoRow{
  grid-template-columns: repeat(5, minmax(0, 1fr));
}
.rmLexiBtnRow.rmLexiModeRow{
  grid-template-columns: repeat(4, minmax(0, 1fr));
}
.rmLexiBtn{
  position:relative;
  height: 40px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.04);
  color: rgba(240,245,252,0.92);
  font-weight: 700;
  letter-spacing: 0.12em;
  text-transform:uppercase;
  display:flex;
  align-items:center;
  justify-content:center;
  gap: 8px;
}
.rmLexiBtnLed{
  position:absolute;
  right: 10px;
  top: 50%;
  transform: translateY(-50%);
  width: 8px;
  height: 8px;
  border-radius: 999px;
  background: rgba(60,255,160,0.15);
  box-shadow: 0 0 0 rgba(60,255,160,0);
}
.rmLexiBtn.on{
  border-color: rgba(60,255,160,0.45);
  box-shadow: 0 0 16px rgba(60,255,160,0.2);
}
.rmLexiBtn.on .rmLexiBtnLed{
  background: rgba(60,255,160,0.95);
  box-shadow: 0 0 14px rgba(60,255,160,0.55);
}
.rmLexiBtn:disabled{
  opacity:0.45;
  cursor:default;
}
.rmLexiLedBar{
  display:grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 12px;
  padding: 10px 12px;
  border-radius: 14px;
  background: rgba(8,8,8,0.75);
  border: 1px solid rgba(255,255,255,0.08);
}
.rmLexiInfoRow{
  display:grid;
  grid-template-columns: 1fr 110px;
  gap: 12px;
  align-items:center;
}
.rmLexiSyncBtn{
  height: 48px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.04);
  color: rgba(240,245,252,0.92);
  font-weight: 800;
  letter-spacing: 0.16em;
}
.rmLexiSyncBtn.on{
  border-color: rgba(60,255,160,0.45);
  box-shadow: 0 0 16px rgba(60,255,160,0.2);
}
.rmLexiSyncBtn:disabled{
  opacity: 0.45;
  cursor: default;
}
.rmLexiLedSeg{
  padding: 6px 8px;
  border-radius: 10px;
  background: rgba(40,0,0,0.28);
  border: 1px solid rgba(255,90,90,0.2);
  min-height: 42px;
}
.rmLexiLedLabel{
  font-size: 10px;
  letter-spacing: 0.16em;
  opacity: 0.65;
}
.rmLexiLedValue{
  font-size: 16px;
  font-weight: 700;
  margin-top: 2px;
  color: rgba(255,120,120,0.95);
  text-shadow: 0 0 10px rgba(255,60,60,0.35);
}
.rmLexiFlash{
  animation: rmLexiFlash 0.28s ease-out;
}
@keyframes rmLexiFlash{
  0%{ filter: brightness(1.6); box-shadow: 0 0 0 rgba(255,70,70,0); }
  100%{ filter: brightness(1.0); box-shadow: 0 0 18px rgba(255,70,70,0.18); }
}
.rmLexiKnobs{
  display:grid;
  grid-template-columns: repeat(5, minmax(0, 1fr));
  gap: 14px;
}
.rmLexiPanel .rmDial{
  width: 130px;
}
.rmLexiPanel .rmDialFace{
  border-color: rgba(150,200,255,0.35);
  background: radial-gradient(circle at 35% 35%, rgba(200,220,255,0.25), rgba(12,14,20,0.96));
}
.rmLexiPanel .rmDialNeedle{
  background: rgba(150,200,255,0.95);
  box-shadow: 0 0 8px rgba(150,200,255,0.6);
}
